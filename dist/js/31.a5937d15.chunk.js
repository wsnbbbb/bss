(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{1561:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return Fe}));a(172);var n,r,o,l=a(105),s=a.n(l),c=(a(152),a(78)),i=a.n(c),m=(a(60),a(12)),u=a.n(m),d=(a(254),a(116)),h=a.n(d),p=(a(47),a(17)),f=a.n(p),g=(a(65),a(25)),y=a.n(g),b=a(15),E=a.n(b),x=a(19),k=a.n(x),S=a(6),v=a.n(S),O=a(20),w=a.n(O),C=a(21),R=a.n(C),I=a(13),P=a.n(I),D=a(2),j=a.n(D),L=(a(58),a(11)),N=a.n(L),F=a(0),M=a.n(F),q=a(1),A=a.n(q),T=a(23),z=(a(1896),a(18)),K=a(9),W=a(52),G=a(26),J=(a(174),a(107)),U=a.n(J),B=(a(171),a(89)),V=a.n(B),Q=(a(193),a(75)),H=a.n(Q),X=a(33),Y=a.n(X),Z=(a(98),a(55)),$=a.n(Z),ee=a(5),te=a.n(ee),ae=a(28);function ne(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var re,oe,le,se,ce=u.a.Item,ie=N.a.Option,me=Object(T.b)("root")(n=Object(T.c)((o=r=function(e){w()(n,e);var t,a=(t=n,function(){var e,a=P()(t);if(ne()){var n=P()(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return R()(this,e)});function n(e){var t;return E()(this,n),t=a.call(this,e),j()(v()(t),"formRefCheck",M.a.createRef()),j()(v()(t),"onModalShow",(function(){t.setState({showModal:!0})})),j()(v()(t),"onClose",(function(){t.setState({showModal:!1})})),t.ports=[],t.state={showModal:!1,modalLoading:!1,devideDetail:{devicePortList:[]},uw:null,ubitInfo:{},regionInfo:{},cabinetInfo:{}},t}return k()(n,[{key:"render",value:function(){var e=G.c.auth_status,t=G.c.auth_type,a=G.c.auth_way,n=G.c.certificate_type,r=(G.c.customer_period_status,this.props.record),o=this.state,l=o.showModal,s=o.modalLoading,c="http://bss2.oss-cn-hongkong.aliyuncs.com/"+this.props.record.businessImage,i="http://bss2.oss-cn-hongkong.aliyuncs.com/"+this.props.record.frontImage,m="http://bss2.oss-cn-hongkong.aliyuncs.com/"+this.props.record.backImage,d=this.props.record.authType;return M.a.createElement(M.a.Fragment,null,M.a.createElement(y.a,{title:"实名认证详情查看",maskClosable:!1,width:"90%",destroyOnClose:!0,footer:null,onCancel:this.onClose,visible:l},M.a.createElement(U.a,{tip:"Loading...",spinning:s},M.a.createElement(u.a,{name:"form_in_modal",ref:this.formRefCheck,className:"g-modal-field",initialValues:r},M.a.createElement(V.a,null,M.a.createElement(H.a,{xs:24,sm:24,md:24,lg:12,xl:12},M.a.createElement(ce,Y()({name:"email",label:"用户邮箱",rules:[{required:!0}]},ae.a),M.a.createElement($.a,{type:"text",disabled:!0}))),M.a.createElement(H.a,{xs:24,sm:24,md:24,lg:12,xl:12},M.a.createElement(ce,Y()({name:"cardName",label:"真实姓名/法人",rules:[{required:!0}]},ae.a),M.a.createElement($.a,{type:"text",disabled:!0}))),M.a.createElement(H.a,{xs:24,sm:24,md:24,lg:12,xl:12},M.a.createElement(ce,Y()({name:"cardNumber",label:"证件号码",rules:[{required:!0}]},ae.a),M.a.createElement($.a,{type:"text",disabled:!0}))),M.a.createElement(H.a,{xs:24,sm:24,md:24,lg:12,xl:12},M.a.createElement(ce,Y()({name:"certificateType",label:"证件类型",rules:[{required:!0}]},ae.a),M.a.createElement(N.a,{disabled:!0},te.a.map(n,(function(e,t){return M.a.createElement(ie,{value:parseInt(t),key:t}," ",e," ")}))))),M.a.createElement(H.a,{xs:24,sm:24,md:24,lg:12,xl:12},M.a.createElement(ce,Y()({name:"authType",label:"认证类型",rules:[{required:!0}]},ae.a),M.a.createElement(N.a,{disabled:!0},te.a.map(t,(function(e,t){return M.a.createElement(ie,{value:parseInt(t),key:t}," ",e," ")}))))),M.a.createElement(H.a,{xs:24,sm:24,md:24,lg:12,xl:12},M.a.createElement(ce,Y()({name:"authStatus",label:"认证状态",rules:[{required:!0}]},ae.a),M.a.createElement(N.a,{disabled:!0},te.a.map(e,(function(e,t){return M.a.createElement(ie,{value:parseInt(t),key:t}," ",e," ")}))))),M.a.createElement(H.a,{xs:24,sm:24,md:24,lg:12,xl:12},M.a.createElement(ce,Y()({name:"authWay",label:"认证方式",rules:[{required:!0}]},ae.a),M.a.createElement(N.a,{disabled:!0},te.a.map(a,(function(e,t){return M.a.createElement(ie,{value:parseInt(t),key:t}," ",e," ")}))))),5==d&&M.a.createElement(H.a,{xs:24,sm:24,md:24,lg:12,xl:12},M.a.createElement(ce,Y()({name:"businessPeriod",label:"经营期限",rules:[{required:!0}]},ae.a),M.a.createElement($.a,{type:"text",disabled:!0}))),M.a.createElement(H.a,{xs:24,sm:24,md:24,lg:12,xl:12},M.a.createElement(ce,Y()({name:"contactAddress",label:"通讯地址"},ae.a),M.a.createElement($.a,{type:"text",disabled:!0}))),5==d&&M.a.createElement(H.a,{xs:24,sm:24,md:24,lg:12,xl:12},M.a.createElement(ce,Y()({name:"enterpriseName",label:"企业名称",rules:[{required:!0}]},ae.a),M.a.createElement($.a,{type:"text",disabled:!0}))),5==d&&M.a.createElement(H.a,{xs:24,sm:24,md:24,lg:12,xl:12},M.a.createElement(ce,Y()({name:"enterpriseTel",label:"企业联系电话"},ae.a),M.a.createElement($.a,{type:"text",disabled:!0}))),5==d&&M.a.createElement(H.a,{xs:24,sm:24,md:24,lg:12,xl:12},M.a.createElement(ce,Y()({name:"licenseLocation",label:"执照所在地"},ae.a),M.a.createElement($.a,{type:"text",disabled:!0}))),M.a.createElement(H.a,{xs:24,sm:24,md:24,lg:12,xl:12},M.a.createElement(ce,Y()({name:"tel",label:"联系方式/法人"},ae.a),M.a.createElement($.a,{type:"text",disabled:!0}))),5==d&&M.a.createElement(H.a,{xs:24,sm:24,md:24,lg:12,xl:12},M.a.createElement(ce,Y()({name:"uscc",label:"统一社会信用代码",rules:[{required:!0}]},ae.a),M.a.createElement($.a,{type:"text",disabled:!0}))),5==d&&M.a.createElement(H.a,{xs:24,sm:24,md:24,lg:24,xl:24},M.a.createElement(ce,Y()({name:"businessImage",label:"营业执照照片或者扫描件",rules:[{required:!0}]},ae.b),M.a.createElement("img",{src:c,style:{maxWidth:"80%"}}))),M.a.createElement(H.a,{xs:24,sm:24,md:24,lg:24,xl:24},M.a.createElement(ce,Y()({name:"frontImage",label:"个人/法人身份证正面",rules:[{required:!0}]},ae.b),M.a.createElement("img",{src:i,style:{maxWidth:"80%"}}))),M.a.createElement(H.a,{xs:24,sm:24,md:24,lg:24,xl:24},M.a.createElement(ce,Y()({name:"backImage",label:"个人/法人身份证反面",rules:[{required:!0}]},ae.b),M.a.createElement("img",{src:m,style:{maxWidth:"80%"}})))),M.a.createElement("div",{className:"actions-btn"},M.a.createElement(f.a,{onClick:this.onClose,className:"action-btn ok"},"关闭"))))),M.a.createElement("span",{onClick:this.onModalShow},this.props.children))}}]),n}(M.a.Component),j()(r,"propTypes",{children:A.a.any,record:A.a.any,root:A.a.any}),n=o))||n)||n,ue=(a(1662),a(1648)),de=a.n(ue),he=a(99);function pe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function fe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(a),!0).forEach((function(t){j()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):pe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ge(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var ye,be,Ee,xe,ke=u.a.Item,Se=N.a.Option,ve=(re=Object(T.b)("root"),Object(he.g)(oe=re(oe=Object(T.c)((se=le=function(e){w()(n,e);var t,a=(t=n,function(){var e,a=P()(t);if(ge()){var n=P()(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return R()(this,e)});function n(e){var t;return E()(this,n),t=a.call(this,e),j()(v()(t),"onClose",(function(){t.props.onClose()})),j()(v()(t),"selectedRow",(function(e,a){t.setState({selectedRowKeys:e})})),j()(v()(t),"handleChange",(function(e){t.setState({editorState:e})})),t.selectedRowKeys=[],t.formRefEdit=M.a.createRef(),t.searchCondition={},t.state={lists:[],loading:!1,showModal:!1,pageNum:1,page_size:20,total:0,pages:0,selectedRowKeys:[],editorState:de.a.createEditorState(null)},t}return k()(n,[{key:"onFinishok",value:function(){this.props.onOk()}},{key:"onFail",value:function(){this.props.onFail()}},{key:"onFinish",value:function(e){var t=fe({},e,{frontImage:"http://bss2.oss-cn-hongkong.aliyuncs.com/"+e.frontImage});console.log(t),this.props.onOCR(t)}},{key:"render",value:function(){var e=this,t=fe({},this.props.defaultData),a="http://bss2.oss-cn-hongkong.aliyuncs.com/"+this.props.defaultData.frontImage,n="http://bss2.oss-cn-hongkong.aliyuncs.com/"+this.props.defaultData.backImage,r=G.c.certificate_type;G.c.customer_period_status;return M.a.createElement(u.a,{name:"form_in_modal",ref:this.formRefEdit,className:"g-modal-field",initialValues:t,onFinish:function(t){e.onFinish(t)}},M.a.createElement(ke,Y()({name:"email",label:"用户邮箱",rules:[{required:!0}]},ae.b),M.a.createElement($.a,{type:"text",disabled:!0})),M.a.createElement(ke,Y()({name:"cardName",label:"真实姓名",rules:[{required:!0}]},ae.b),M.a.createElement($.a,{type:"text",disabled:!0})),M.a.createElement(ke,Y()({name:"certificateType",label:"证件类型",rules:[{required:!0}]},ae.b),M.a.createElement(N.a,{disabled:!0},te.a.map(r,(function(e,t){return M.a.createElement(Se,{value:parseInt(t),key:t}," ",e," ")})))),M.a.createElement(ke,Y()({name:"cardNumber",label:"证件号码",rules:[{required:!0}]},ae.b),M.a.createElement($.a,{type:"text",disabled:!0})),M.a.createElement(ke,Y()({name:"tel",label:"联系方式"},ae.b),M.a.createElement($.a,{type:"text",disabled:!0})),M.a.createElement(ke,Y()({name:"contactAddress",label:"通讯地址"},ae.b),M.a.createElement($.a,{type:"text",disabled:!0})),M.a.createElement(ke,Y()({name:"frontImage",label:"请上传实名材料"},ae.b),M.a.createElement("p",{style:{marginTop:"5px"}},"个人手持身份证头像面彩色照,照片上所有信息需要清晰可见，内容真实有效，不得做任何修改,照片支持JPG,JPEG,大小不超过1M"),M.a.createElement("img",{src:a,style:{maxWidth:"80%"}}),M.a.createElement("p",{style:{marginTop:"15px"}},"个人手持身份证国徽面彩色照,照片上所有信息需要清晰可见，内容真实有效，不得做任何修改,照片支持JPG,JPEG,大小不超过1M"),M.a.createElement("img",{src:n,style:{maxWidth:"80%"}})),M.a.createElement("div",{className:"actions-btn"},W.a.hasPermission("customerAuth-auditOK")&&M.a.createElement(f.a,{onClick:function(){e.onFinishok()},className:"action-btn ok"},"审核通过"),W.a.hasPermission("customerAuth-auditError")&&M.a.createElement(f.a,{onClick:function(){e.onFail()},className:"action-btn ok"},"审核失败"),W.a.hasPermission("customerAuth-idcard")&&M.a.createElement(f.a,{htmlType:"submit",className:"action-btn ok"},"OCR审核")))}}]),n}(M.a.Component),j()(le,"propTypes",{location:A.a.any,history:A.a.any,match:A.a.any,root:A.a.any,defaultData:A.a.any,onOk:A.a.func,onClose:A.a.func,onFail:A.a.func,id:A.a.any,that:A.a.any}),oe=se))||oe)||oe)||oe);function Oe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function we(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Ce,Re,Ie,Pe=u.a.Item,De=N.a.Option,je=(ye=Object(T.b)("root"),Object(he.g)(be=ye(be=Object(T.c)((xe=Ee=function(e){w()(n,e);var t,a=(t=n,function(){var e,a=P()(t);if(we()){var n=P()(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return R()(this,e)});function n(e){var t;return E()(this,n),t=a.call(this,e),j()(v()(t),"onClose",(function(){t.props.onClose()})),j()(v()(t),"selectedRow",(function(e,a){t.setState({selectedRowKeys:e})})),j()(v()(t),"handleChange",(function(e){t.setState({editorState:e})})),t.selectedRowKeys=[],t.formRefEdit=M.a.createRef(),t.searchCondition={},t.state={selectedRowKeys:[],editorState:de.a.createEditorState(null)},t}return k()(n,[{key:"onFinishok",value:function(){this.props.onOk()}},{key:"onFail",value:function(){this.props.onFail()}},{key:"onFinish",value:function(e){console.log(e);var t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(a),!0).forEach((function(t){j()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Oe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{businessImage:"http://bss2.oss-cn-hongkong.aliyuncs.com/"+e.businessImage});console.log(t),this.props.onOCR(t)}},{key:"render",value:function(){var e=this,t=this.props,a=t.defaultData,n=(t.id,G.c.certificate_type);G.c.customer_period_status;console.log(this.props);var r="http://bss2.oss-cn-hongkong.aliyuncs.com/"+this.props.defaultData.businessImage,o="http://bss2.oss-cn-hongkong.aliyuncs.com/"+this.props.defaultData.frontImage,l="http://bss2.oss-cn-hongkong.aliyuncs.com/"+this.props.defaultData.backImage;return M.a.createElement(u.a,{name:"form_in_modal",ref:this.formRefEdit,className:"g-modal-field",initialValues:a,onFinish:function(t){e.onFinish(t)}},M.a.createElement(V.a,null,M.a.createElement(H.a,{xs:24,sm:24,md:24,lg:12,xl:12},M.a.createElement(Pe,Y()({name:"uscc",label:"统一社会信用代码",rules:[{required:!0}]},ae.a),M.a.createElement($.a,{type:"text",disabled:!0}))),M.a.createElement(H.a,{xs:24,sm:24,md:24,lg:12,xl:12},M.a.createElement(Pe,Y()({name:"email",label:"用户邮箱",rules:[{required:!0}]},ae.a),M.a.createElement($.a,{type:"text",disabled:!0}))),M.a.createElement(H.a,{xs:24,sm:24,md:24,lg:12,xl:12},M.a.createElement(Pe,Y()({name:"cardName",label:"真实姓名/法人",rules:[{required:!0}]},ae.a),M.a.createElement($.a,{type:"text",disabled:!0}))),M.a.createElement(H.a,{xs:24,sm:24,md:24,lg:12,xl:12},M.a.createElement(Pe,Y()({name:"cardNumber",label:"证件号码",rules:[{required:!0}]},ae.a),M.a.createElement($.a,{type:"text",disabled:!0}))),M.a.createElement(H.a,{xs:24,sm:24,md:24,lg:12,xl:12},M.a.createElement(Pe,Y()({name:"certificateType",label:"证件类型",rules:[{required:!0}]},ae.a),M.a.createElement(N.a,{disabled:!0},te.a.map(n,(function(e,t){return M.a.createElement(De,{value:parseInt(t),key:t}," ",e," ")}))))),M.a.createElement(H.a,{xs:24,sm:24,md:24,lg:12,xl:12},M.a.createElement(Pe,Y()({name:"businessPeriod",label:"经营期限",rules:[{required:!0}]},ae.a),M.a.createElement($.a,{type:"text",disabled:!0}))),M.a.createElement(H.a,{xs:24,sm:24,md:24,lg:12,xl:12},M.a.createElement(Pe,Y()({name:"contactAddress",label:"通讯地址"},ae.a),M.a.createElement($.a,{type:"text",disabled:!0}))),M.a.createElement(H.a,{xs:24,sm:24,md:24,lg:12,xl:12},M.a.createElement(Pe,Y()({name:"enterpriseName",label:"企业名称",rules:[{required:!0}]},ae.a),M.a.createElement($.a,{type:"text",disabled:!0}))),M.a.createElement(H.a,{xs:24,sm:24,md:24,lg:12,xl:12},M.a.createElement(Pe,Y()({name:"enterpriseTel",label:"企业联系电话"},ae.a),M.a.createElement($.a,{type:"text",disabled:!0}))),M.a.createElement(H.a,{xs:24,sm:24,md:24,lg:12,xl:12},M.a.createElement(Pe,Y()({name:"licenseLocation",label:"执照所在地"},ae.a),M.a.createElement($.a,{type:"text",disabled:!0}))),M.a.createElement(H.a,{xs:24,sm:24,md:24,lg:12,xl:12},M.a.createElement(Pe,Y()({name:"tel",label:"联系方式/法人"},ae.a),M.a.createElement($.a,{type:"text",disabled:!0}))),M.a.createElement(H.a,{xs:24,sm:24,md:24,lg:24,xl:24},M.a.createElement(Pe,Y()({name:"businessImage",label:"营业执照照片或者扫描件",rules:[{required:!0}]},ae.b),M.a.createElement("img",{src:r,style:{maxWidth:"80%"}}))),M.a.createElement(H.a,{xs:24,sm:24,md:24,lg:24,xl:24},M.a.createElement(Pe,Y()({name:"frontImage",label:"个人/法人身份证正面",rules:[{required:!0}]},ae.b),M.a.createElement("img",{src:o,style:{maxWidth:"80%"}}))),M.a.createElement(H.a,{xs:24,sm:24,md:24,lg:24,xl:24},M.a.createElement(Pe,Y()({name:"backImage",label:"个人/法人身份证反面",rules:[{required:!0}]},ae.b),M.a.createElement("img",{src:l,style:{maxWidth:"80%"}})))),M.a.createElement("div",{className:"actions-btn"},W.a.hasPermission("customerAuth-auditOK")&&M.a.createElement(f.a,{onClick:function(){e.onFinishok()},className:"action-btn ok"},"审核通过"),W.a.hasPermission("customerAuth-auditError")&&M.a.createElement(f.a,{onClick:function(){e.onFail()},className:"action-btn ok"},"审核失败"),W.a.hasPermission("customerAuth-businessLicense")&&M.a.createElement(f.a,{htmlType:"submit",className:"action-btn ok"},"OCR审核")))}}]),n}(M.a.Component),j()(Ee,"propTypes",{location:A.a.any,history:A.a.any,match:A.a.any,root:A.a.any,defaultData:A.a.any,onOk:A.a.func,onClose:A.a.func,onFail:A.a.func,id:A.a.any,that:A.a.any}),be=xe))||be)||be)||be);function _e(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Le(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Ne=N.a.Option,Fe=Object(T.b)("root")(Ce=Object(T.c)((Ie=Re=function(e){w()(n,e);var t,a=(t=n,function(){var e,a=P()(t);if(Le()){var n=P()(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return R()(this,e)});function n(e){var t;return E()(this,n),t=a.call(this,e),j()(v()(t),"searchFormRef",M.a.createRef()),j()(v()(t),"onResetSearch",(function(){t.searchFormRef.current.resetFields()})),j()(v()(t),"onModalShow",(function(e){t.searchParam={},console.log(e),5===e.authType?t.setState({enterprisemodalShow:!0,nowId:e.id,nowData:e}):t.setState({modalShow:!0,nowId:e.id,nowData:e})})),j()(v()(t),"onModalClose",(function(){t.setState({modalShow:!1,enterprisemodalShow:!1})})),console.log(t.props),t.selectedRow={length:0,keys:[],rows:[]},t.hardSearch={},t.searchParam={},t.locationId=void 0,t.state={searchParam:{},lists:[],loading:!1,page:1,pageSize:20,total:0,modalLoading:!1,nowData:{},modalShow:!1,selectedRowKeys:[],regionInfo:{}},t}return k()(n,[{key:"componentDidMount",value:function(){this.onGetListData()}},{key:"onGetListData",value:function(e){var t=this;e=e||this.state.regionInfo;var a=_.assign({},{page:1},this.searchParam,function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(a),!0).forEach((function(t){j()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_e(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e));this.setState({loading:!0}),z.a.get("".concat(BSS_ADMIN_URL,"/api/customer/customerAuth"),{params:a}).then((function(e){console.log(e),e=e.data,console.log(e),K.a.hasStatusOk(e)?t.setState({lists:e.data.records,total:e.data.total,page:e.data.current,selectedRowKeys:[],selectedRows:[]}):K.a.dealFail(e),t.setState({loading:!1})})).catch((function(){t.setState({loading:!1})}))}},{key:"onPageChange",value:function(e,t){this.setState({page:e}),this.onGetListData({page:e,pageSize:t})}},{key:"onPageSizeChange",value:function(e,t){this.setState({page:e,pageSize:t}),this.onGetListData({page:e,pageSize:t})}},{key:"onSearchfrom",value:function(e){this.searchParam=e,this.setState({searchValue:e}),this.onGetListData(e)}},{key:"onModalOk",value:function(){var e=this.that;e.setState({loading:!0,modalLoading:!0});var t=this.id;console.log(t),z.a.put("".concat(BSS_ADMIN_URL,"/api/customer/customerAuth/").concat(t,"/auditOK")).then((function(t){t=t.data,console.log(t),K.a.hasStatusOk(t)?(K.a.auto_close_result("ok","操作成功"),e.setState({page:1,modalLoading:!1,modalShow:!1,enterprisemodalShow:!1}),e.onGetListData({page:1})):K.a.dealFail(t),e.setState({modalLoading:!1,loading:!1})})).catch((function(){e.setState({modalLoading:!1,loading:!1})}))}},{key:"onModalFail",value:function(){var e=this.that;e.setState({loading:!0,modalLoading:!0});var t=this.id;console.log(t),z.a.put("".concat(BSS_ADMIN_URL,"/api/customer/customerAuth/").concat(t,"/auditError")).then((function(t){t=t.data,console.log(t),K.a.hasStatusOk(t)?(K.a.auto_close_result("ok","操作成功"),e.setState({page:1,modalLoading:!1,modalShow:!1,enterprisemodalShow:!1}),e.onGetListData({page:1})):K.a.dealFail(t),e.setState({modalLoading:!1,loading:!1})})).catch((function(){e.setState({modalLoading:!1,loading:!1})}))}},{key:"onOCRperson",value:function(e){var t=this.that;t.setState({loading:!0,modalLoading:!0});var a=this.id;console.log(a),z.a.post("".concat(BSS_ADMIN_URL,"/api/customer/customerAuth/idcard"),e).then((function(e){e=e.data,console.log(e),2e4==e.code?(y.a.success({content:"姓名和身份证号匹配成功",destroyOnClose:!0}),t.setState({page:1,modalLoading:!1})):K.a.dealFail(e),t.setState({modalLoading:!1,loading:!1})})).catch((function(){t.setState({modalLoading:!1,loading:!1})}))}},{key:"onOCRbusiness",value:function(e){console.log(e);var t=this.that;t.setState({loading:!0,modalLoading:!0});var a=this.id;console.log(a),z.a.post("".concat(BSS_ADMIN_URL,"/api/customer/customerAuth/businessLicense"),e).then((function(e){e=e.data,console.log(e),2e4==e.code?(y.a.success({content:"统一社会信用代码/注册号/组织机构代码和企业名称匹配成功",destroyOnClose:!0}),t.setState({page:1,modalLoading:!1})):K.a.dealFail(e),t.setState({modalLoading:!1,loading:!1})})).catch((function(){t.setState({modalLoading:!1,loading:!1})}))}},{key:"makeColumns",value:function(){var e=this,t=G.c.auth_status,a=G.c.auth_type,n=G.c.auth_way;return[{title:"用户邮箱",dataIndex:"email",key:"email"},{title:"真实姓名",dataIndex:"cardName",key:"cardName"},{title:"认证类型",dataIndex:"authType",key:"authType",render:function(e,t){return a[e]}},{title:"认证方式",dataIndex:"authWay",key:"authWay",render:function(e,t){return n[e]}},{title:"认证状态",dataIndex:"authStatus",key:"authStatus",render:function(e,a){return t[e]}},{title:"操作",key:"control",fixed:"right",width:300,render:function(t,a){var n=[];e.props.root.userinfo,e.props.root.powers;W.a.hasPermission("customerAuth-view")&&3===a.authStatus&&n.push(M.a.createElement(f.a,{key:"1",size:"small",onClick:function(){e.onModalShow(a)},style:{marginRight:"8px"},className:"actions-btn"},"审核")),W.a.hasPermission("customerAuth-view")&&3!==a.authStatus&&n.push(M.a.createElement(me,{record:a},M.a.createElement(f.a,{key:"2",size:"small",style:{marginRight:"8px"},className:"actions-btn"},"详情")));var r=[];return n.forEach((function(e,t){t&&r.push(M.a.createElement(h.a,{key:"line".concat(t),type:"vertical"})),r.push(e)})),r}}]}},{key:"render",value:function(){var e=this,t=this.state,a=t.lists,n=t.loading,r=t.page,o=t.pageSize,l=t.total,c=t.nowId,m=t.modalShow,d=t.enterprisemodalShow,h=t.nowData,p=G.c.auth_type,g=G.c.auth_status,b=G.c.auth_way;return M.a.createElement("main",{className:"mian"},M.a.createElement("div",{className:"g-search"},M.a.createElement(u.a,{ref:this.searchFormRef,name:"searchbox",layout:"inline",onFinish:function(t){e.onSearchfrom(t)}},M.a.createElement(u.a.Item,{name:"authType"},M.a.createElement(N.a,{placeholder:"请选择认证类型",allowClear:!0,style:{width:170}},_.map(p,(function(e,t){return M.a.createElement(Ne,{value:parseInt(t),key:t},e)})))),M.a.createElement(u.a.Item,{name:"authWay"},M.a.createElement(N.a,{placeholder:"请选择认证方式",allowClear:!0,style:{width:170}},_.map(b,(function(e,t){return M.a.createElement(Ne,{value:parseInt(t),key:t},e)})))),M.a.createElement(u.a.Item,{name:"authStatus"},M.a.createElement(N.a,{placeholder:"请选择认证状态",allowClear:!0,style:{width:170}},_.map(g,(function(e,t){return M.a.createElement(Ne,{value:parseInt(t),key:t},e)})))),M.a.createElement(u.a.Item,{shouldUpdate:!0},M.a.createElement(f.a,{type:"primary",htmlType:"submit"},"查询")),M.a.createElement(u.a.Item,{shouldUpdate:!0},M.a.createElement(f.a,{type:"primary",onClick:this.onResetSearch},"重置")))),M.a.createElement("div",{className:"g-table"},M.a.createElement(i.a,{scroll:{x:1600},columns:this.makeColumns(),rowKey:function(e){return e.id},loading:n,dataSource:a,pagination:!1}),M.a.createElement("div",{className:"g-pagination"},M.a.createElement(s.a,{current:r,total:l,pageSize:o,showSizeChanger:!0,showQuickJumper:!0,showTotal:function(e){return"共 ".concat(e," 条")},onChange:function(t,a){e.onPageChange(t,a)},onShowSizeChange:function(t,a){e.onPageSizeChange(t,a)}}))),M.a.createElement(y.a,{title:"个人信息审核",maskClosable:!1,width:"80%",destroyOnClose:!0,footer:null,onCancel:this.onModalClose,visible:m},M.a.createElement(ve,{that:this,onOk:this.onModalOk,onFail:this.onModalFail,onClose:this.onModalClose,onOCR:this.onOCRperson,defaultData:h,id:c})),M.a.createElement(y.a,{title:"企业信息审核",maskClosable:!1,width:"80%",destroyOnClose:!0,footer:null,onCancel:this.onModalClose,visible:d},M.a.createElement(je,{that:this,onOk:this.onModalOk,onFail:this.onModalFail,onClose:this.onModalClose,onOCR:this.onOCRbusiness,defaultData:h,id:c})))}}]),n}(M.a.Component),j()(Re,"propTypes",{location:A.a.any,history:A.a.any,root:A.a.any,match:A.a.any,customerDict:A.a.any}),Ce=Ie))||Ce)||Ce},1896:function(e,t,a){}}]);