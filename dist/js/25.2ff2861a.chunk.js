(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{1573:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return Te}));t(172);var n,s,r,l=t(105),o=t.n(l),i=(t(152),t(78)),c=t.n(i),d=(t(47),t(17)),m=t.n(d),u=(t(98),t(55)),p=t.n(u),h=(t(254),t(116)),f=t.n(h),k=(t(255),t(133)),y=t.n(k),g=(t(173),t(84)),E=t.n(g),S=(t(175),t(66)),v=t.n(S),b=(t(132),t(35)),w=t.n(b),C=t(15),x=t.n(C),R=t(19),T=t.n(R),N=t(6),D=t.n(N),M=t(20),z=t.n(M),I=t(21),L=t.n(I),O=t(13),B=t.n(O),U=t(2),G=t.n(U),F=(t(65),t(25)),P=t.n(F),q=(t(60),t(12)),j=t.n(q),A=(t(58),t(11)),K=t.n(A),J=t(0),V=t.n(J),H=t(1),Q=t.n(H),W=t(1591),X=t(1596),Y=t(1592),Z=t(1589),$=t(23),ee=(t(1795),t(9)),ae=(t(71),t(5)),te=t.n(ae),ne=t(18),se=(t(171),t(89)),re=t.n(se),le=(t(193),t(75)),oe=t.n(le),ie=t(33),ce=t.n(ie),de=(t(194),t(106)),me=t.n(de),ue=(t(416),t(192)),pe=t.n(ue),he=(t(3),t(153));function fe(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var ke,ye,ge,Ee=j.a.Item,Se=p.a.TextArea,ve=K.a.Option,be=(pe.a.TreeNode,pe.a.SHOW_PARENT,Object($.b)("root")(n=Object($.b)("authManage")(n=Object($.b)("pageUserstore")(n=Object($.c)((r=s=function(e){z()(n,e);var a,t=(a=n,function(){var e,t=B()(a);if(fe()){var n=B()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return L()(this,e)});function n(e){var a;return x()(this,n),a=t.call(this,e),G()(D()(a),"onClose",(function(){a.props.pageUserstore.changeShowmodal("off")})),G()(D()(a),"onFinish",(function(e){if("see"!==a.props.operateType){if("add"===a.props.operateType&&a.props.onOk(e),"up"===a.props.operateType){var t=a.props.nowData.id;a.props.edit(t,e)}}else a.onClose()})),G()(D()(a),"reset",(function(){a.formRef.current.resetFields()})),G()(D()(a),"onChange",(function(e){a.setState({value:e})})),a.formRef=V.a.createRef(),a.state={modalLoading:!1,nowData:null},a}return T()(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,a=this.props,t=a.operateType,n=a.nowData,s=a.useType,r=a.interfaceType,l=(a.disk_type,a.disk_brand,a.disk_short),o=a.server_disk_spec,i=(this.props.root.powers,{labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:16}}}),c=this.props.pageUserstore.showmodal;return V.a.createElement("div",null,V.a.createElement(P.a,{title:{add:"硬盘型号添加",up:"硬盘型号修改",see:"查看"}[t],maskClosable:!1,width:"50%",destroyOnClose:!0,visible:c,onCancel:this.onClose,confirmLoading:this.state.modalLoading,footer:null},V.a.createElement(j.a,{name:"form_in_modal",ref:this.formRef,initialValues:n,onFinish:function(a){e.onFinish(a)},className:"g-modal-field"},V.a.createElement(re.a,null,V.a.createElement(oe.a,{xs:24,sm:24,md:24,lg:12,xl:12},V.a.createElement(Ee,ce()({label:"硬盘容量(G):",name:"diskSize",rules:[{required:!0,message:"必填"},{pattern:he.a.num,message:"请输入数字"},{type:"number",max:99999,message:"最多输入5位字符"}]},i),V.a.createElement(me.a,{placeholder:"请输入硬盘容量",disabled:"see"===t}))),V.a.createElement(oe.a,{xs:24,sm:24,md:24,lg:12,xl:12},V.a.createElement(Ee,ce()({label:"硬盘规格",name:"diskMeasure"},i,{rules:[{required:!0,message:"必填"}]}),V.a.createElement(K.a,{allowClear:!0,placeholder:"硬盘规格",disabled:"see"===t},_.map(o,(function(e,a){return V.a.createElement(ve,{value:parseInt(a),key:a},e)})))))),V.a.createElement(re.a,null,V.a.createElement(oe.a,{xs:24,sm:24,md:24,lg:12,xl:12},V.a.createElement(Ee,ce()({label:"接口类型",name:"interfaceType"},i,{rules:[{required:!0,message:"必填"}]}),V.a.createElement(K.a,{allowClear:!0,placeholder:"请选择接口类型",disabled:"see"===t},_.map(r,(function(e,a){return V.a.createElement(ve,{value:parseInt(a),key:a},e)}))))),V.a.createElement(oe.a,{xs:24,sm:24,md:24,lg:12,xl:12},V.a.createElement(Ee,ce()({label:"硬盘品牌",name:"diskBrand"},i,{rules:[{required:!0,message:"必填"},{type:"string",max:20,message:"最多输入20位字符"}]}),V.a.createElement(p.a,{allowClear:!0,placeholder:"请输入硬盘品牌",disabled:"see"===t})))),V.a.createElement(re.a,null,V.a.createElement(oe.a,{xs:24,sm:24,md:24,lg:12,xl:12},V.a.createElement(Ee,ce()({label:"硬盘用途",name:"useType"},i,{rules:[{required:!0,message:"必填"}]}),V.a.createElement(K.a,{allowClear:!0,placeholder:"用途类型",disabled:"see"===t},_.map(s,(function(e,a){return V.a.createElement(ve,{value:parseInt(a),key:a},e)}))))),V.a.createElement(oe.a,{xs:24,sm:24,md:24,lg:12,xl:12},V.a.createElement(Ee,ce()({label:"硬盘型号",name:"diskModel"},i,{rules:[{type:"string",max:20,message:"最多输入20位字符"}]}),V.a.createElement(p.a,{placeholder:"请输入硬盘型号",disabled:"see"===t})))),V.a.createElement(re.a,null,V.a.createElement(oe.a,{xs:24,sm:24,md:24,lg:12,xl:12},V.a.createElement(Ee,ce()({label:"硬盘类型简称",name:"diskShort"},i,{rules:[{required:!0,message:"必填"}]}),V.a.createElement(K.a,{allowClear:!0,placeholder:"请选择硬盘简称",disabled:"see"===t},_.map(l,(function(e,a){return V.a.createElement(ve,{value:parseInt(a),key:a},e)}))))),V.a.createElement(oe.a,{xs:24,sm:24,md:24,lg:12,xl:12},V.a.createElement(Ee,ce()({label:"转速(rpm)",name:"diskRpm"},i,{rules:[{required:!0,message:"必填"},{pattern:he.a.float,message:"请输入数字"},{type:"string",max:10,message:"最多输入10位字符"}]}),V.a.createElement(p.a,{placeholder:"请输入转速",disabled:"see"===t})))),V.a.createElement(re.a,null,V.a.createElement(oe.a,{xs:24,sm:24,md:24,lg:12,xl:12},V.a.createElement(Ee,ce()({label:"缓存(MB)",name:"diskCache"},i,{rules:[{required:!0,message:"必填"},{pattern:he.a.float,message:"请输入数字"},{type:"string",max:10,message:"最多输入10位字符"}]}),V.a.createElement(p.a,{placeholder:"请输入缓存(M)",disabled:"see"===t})))),V.a.createElement(re.a,null,V.a.createElement(oe.a,{xs:24,sm:24,md:24,lg:12,xl:12},V.a.createElement(Ee,ce()({label:"硬盘名称",name:"diskName"},i,{style:"see"===t?{display:"flex"}:{display:"none"}}),V.a.createElement(p.a,{disabled:"see"===t})))),V.a.createElement(re.a,null,V.a.createElement(oe.a,{span:24},V.a.createElement(Ee,{label:"备注",name:"remark",rules:[{max:250,message:"最多输入250位字符"}]},V.a.createElement(Se,{placeholder:"请输入备注",style:{height:"100px"},disabled:"see"===t})))),V.a.createElement(re.a,null,V.a.createElement(oe.a,{span:24},V.a.createElement("div",{className:"actions-btn"},V.a.createElement(m.a,{htmlType:"submit",className:"action-btn ok",style:"see"===t?{display:"none"}:{display:"inline-block"}},"提交"),V.a.createElement(m.a,{htmlType:"reset",className:"action-btn ok",onClick:this.reset,style:"see"===t?{display:"none"}:{display:"inline-block"}},"重置"),V.a.createElement(m.a,{onClick:this.onClose,className:"action-btn ok"},"取消")))))))}}]),n}(V.a.Component),G()(s,"propTypes",{location:Q.a.any,history:Q.a.any,userinfo:Q.a.any,powers:Q.a.array,updateLists:Q.a.func}),n=r))||n)||n)||n)||n),we=t(52),Ce=t(26);function xe(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var _e=K.a.Option,Re=(j.a.Item,P.a.confirm);var Te=Object($.b)("root")(ke=Object($.b)("authManage")(ke=Object($.b)("pageUserstore")(ke=Object($.b)("serverPartDict")(ke=Object($.c)((ge=ye=function(e){z()(n,e);var a,t=(a=n,function(){var e,t=B()(a);if(xe()){var n=B()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return L()(this,e)});function n(e){var a;return x()(this,n),a=t.call(this,e),G()(D()(a),"updateURL",(function(){var e,t,n,s,r=(e={query:a.state.inputValue},t=e.query,n=void 0===t?"":t,(s=new URLSearchParams).set("query",n),s.toString());a.props.history.push("?".concat(r))})),G()(D()(a),"onReset",(function(){a.searchFormRef.current.resetFields()})),G()(D()(a),"onModalOk",(function(e){e.diskSize=parseInt(e.diskSize),ne.a.post("".concat(BSS_ADMIN_URL,"/api/product/diskmodel/add"),ee.a.clearEmpty(e)).then((function(e){2e4===(e=e.data).code?(a.onClose(),a.onGetListData({page:1}),w.a.success("添加成功")):ee.a.dealFail(e)})).catch((function(){a.setState({modalLoading:!1})}))})),G()(D()(a),"edit",(function(e,t){t.version=a.state.version,t.diskName="",ne.a.put("".concat(BSS_ADMIN_URL,"/api/product/diskmodel/").concat(e,"/update"),ee.a.clearNull(t)).then((function(e){2e4===(e=e.data).code?(a.onClose(),a.onGetListData({page:1}),w.a.success("修改成功")):ee.a.dealFail(e)})).catch((function(){a.setState({modalLoading:!1})}))})),G()(D()(a),"onClose",(function(){a.props.pageUserstore.changeShowmodal("off")})),G()(D()(a),"onModalClose",(function(){a.props.pageUserstore.changeShowmodal("off")})),G()(D()(a),"onSelectChange",(function(e){a.setState({selectedRowKeys:e})})),G()(D()(a),"showDeleteConfirm",(function(){var e=a.state.selectedRowKeys,t=D()(a);if(e.length<1)return P.a.warning({title:"提示",content:"请选择至少一条数据！",destroyOnClose:!0}),!1;Re({title:"你确定要批量删除吗？",icon:V.a.createElement(W.a,null),okText:"确定",okType:"danger",cancelText:"取消",onOk:function(){t.onDel(e),t.setState({selectedRowKeys:[]})},onCancel:function(){}})})),a.searchFormRef=V.a.createRef(),a.searchCondition={},a.state={lists:[],operateType:"add",loading:!1,modalShow:!1,modalLoading:!1,nowData:{},pageNum:1,page_size:20,total:0,selectedRowKeys:[],version:0,lists2:[],lists4:[]},a}return T()(n,[{key:"componentDidMount",value:function(){this.onGetListData(this.state.pageNum,this.state.page_size),this.onGetBrand(),this.onGetSize()}},{key:"onGetListData",value:function(){var e=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=te.a.assign({},this.searchCondition,a);this.setState({loading:!0}),ne.a.get("".concat(BSS_ADMIN_URL,"/api/product/diskmodel"),{params:ee.a.clearEmpty(t)}).then((function(a){if(a=a.data,ee.a.hasStatusOk(a)){var t=a.data.records;e.setState({lists:t,total:a.data.total,pages:a.data.pages,pageNum:a.data.current,selectedRowKeys:[]})}else ee.a.dealFail(a);e.setState({loading:!1})})).catch((function(){e.setState({loading:!1})}))}},{key:"onGetBrand",value:function(){var e=this;ne.a.get("".concat(BSS_ADMIN_URL,"/api/product/diskmodel/diskbrand")).then((function(a){2e4===(a=a.data).code?e.setState({lists2:a.data}):w.a.error(a.data)})).catch((function(){}))}},{key:"onGetSize",value:function(){var e=this;ne.a.get("".concat(BSS_ADMIN_URL,"/api/product/diskmodel/disksize")).then((function(a){2e4===(a=a.data).code?e.setState({lists4:a.data}):w.a.error(a.data)})).catch((function(){}))}},{key:"makeColumns",value:function(){var e=this;return[{title:"硬盘型号名称",dataIndex:"diskName",key:"diskName"},{title:"品牌",dataIndex:"diskBrand",key:"diskBrand"},{title:"型号",dataIndex:"diskModel",key:"diskModel"},{title:"硬盘类型简称",dataIndex:"diskShort",key:"diskShort",render:function(e,a){return Ce.k.disk_short[e]}},{title:"规格",dataIndex:"diskMeasure",key:"diskMeasure",render:function(e,a){return Ce.k.server_disk_spec[e]}},{title:"接口类型",dataIndex:"interfaceType",key:"interfaceType",render:function(e,a){return Ce.k.disk_interface_type[e]}},{title:"缓存(MB)",dataIndex:"diskCache",key:"diskCache"},{title:"转速(rpm)",dataIndex:"diskRpm",key:"diskRpm"},{title:"硬盘容量(G)",dataIndex:"diskSize",key:"diskSize",render:function(e,a){return V.a.createElement(v.a,{color:"#2db7f5"},a&&a.diskSize)}},{title:"用途",dataIndex:"useType",key:"useType",render:function(e,a){return Ce.k.use_type[e]}},{title:"备注",dataIndex:"remark",key:"remark"},{title:"操作",key:"control",fixed:"right",width:100,render:function(a,t){var n=[],s=we.a.getPermission()||[];s.includes("diskmodel-view")&&n.push(V.a.createElement("span",{key:"0",className:"control-btn green",onClick:function(){return e.onModalShow("see",t)}},V.a.createElement(E.a,{placement:"top",title:"查看"},V.a.createElement(X.a,null)))),s.includes("diskmodel-edit")&&n.push(V.a.createElement("span",{key:"1",className:"control-btn blue",onClick:function(){return e.onModalShow("up",t)}},V.a.createElement(E.a,{placement:"top",title:"修改"},V.a.createElement(Y.a,null)))),s.includes("diskmodel-del")&&n.push(V.a.createElement(y.a,{key:"2",title:"确定删除吗?",onConfirm:function(){return e.onDel(t.id)},okText:"确定",cancelText:"取消"},V.a.createElement("span",{className:"control-btn red"},V.a.createElement(E.a,{placement:"top",title:"删除"},V.a.createElement(Z.a,null)))));var r=[];return n.forEach((function(e,a){a&&r.push(V.a.createElement(f.a,{key:"line".concat(a),type:"vertical"})),r.push(e)})),r}}]}},{key:"onSearch",value:function(e){this.searchCondition=e,this.onGetListData(e)}},{key:"onPageChange",value:function(e,a){this.onGetListData({page:e,pageSize:a})}},{key:"onPageSizeChange",value:function(e,a){this.onGetListData({page:e,pageSize:a})}},{key:"onModalShow",value:function(e,a){this.props.pageUserstore.changeShowmodal("on"),this.setState({modalShow:!0,nowData:{id:a.id||"",diskName:a.diskName,diskSize:a.diskSize,diskBrand:a.diskBrand,diskCache:a.diskCache,diskMeasure:a.diskMeasure,diskModel:a.diskModel,diskRpm:a.diskRpm,diskShort:a.diskShort,diskType:a.diskType,interfaceType:a.interfaceType,remark:a.remark,useType:a.useType},operateType:e,version:a&&a.version})}},{key:"onDel",value:function(e){var a=this;if("string"==typeof e){var t=[];t.push(e);var n={id:t}}else n={id:e};var s=JSON.stringify(n);ne.a.delete("".concat(BSS_ADMIN_URL,"/api/product/diskmodel/delete"),{data:s}).then((function(e){2e4===(e=e.data).code?(a.onGetListData({page:1}),w.a.success("删除成功")):(ee.a.dealFail(e),a.setState({loading:!1}))})).catch((function(){a.setState({loading:!1})}))}},{key:"onRoleClose",value:function(){this.setState({roleTreeShow:!1})}},{key:"render",value:function(){var e=this,a=(this.props.root.powers,this.state),t=a.loading,n=a.operateType,s=a.lists,r=a.pageNum,l=a.page_size,i=a.modalShow,d=a.nowData,u=a.total,h=a.selectedRowKeys,f=a.lists2,k=a.lists4,y={selectedRowKeys:h,onChange:this.onSelectChange},g=we.a.getPermission()||[],E=Ce.k.use_type,S=Ce.k.disk_interface_type,v=Ce.k.disk_type,b=Ce.k.disk_brand,w=Ce.k.disk_short,C=Ce.k.server_disk_spec;return V.a.createElement("main",{className:"mian"},V.a.createElement("div",{className:"c-search"},V.a.createElement(j.a,{ref:this.searchFormRef,name:"horizontal_login",layout:"inline",onFinish:function(a){e.onSearch(a)}},V.a.createElement(j.a.Item,{name:"diskName"},V.a.createElement(p.a,{placeholder:"请输入硬盘名称",allowClear:!0})),V.a.createElement(j.a.Item,{name:"diskBrand"},V.a.createElement(K.a,{style:{width:240},allowClear:!0,placeholder:"请选择硬盘品牌"},f.map((function(e){return V.a.createElement(_e,{key:e},e)})))),V.a.createElement(j.a.Item,{name:"diskSize"},V.a.createElement(K.a,{style:{width:240},allowClear:!0,placeholder:"请选择硬盘容量"},k.map((function(e){return V.a.createElement(_e,{key:e},e)})))),V.a.createElement(j.a.Item,{name:"diskShort"},V.a.createElement(K.a,{style:{width:240},allowClear:!0,placeholder:"请选择硬盘简称"},te.a.map(w,(function(e,a){return V.a.createElement(_e,{value:parseInt(a),key:a},e)})))),V.a.createElement(j.a.Item,{shouldUpdate:!0},V.a.createElement(m.a,{type:"primary",htmlType:"submit"},"搜索")),V.a.createElement(j.a.Item,{shouldUpdate:!0},V.a.createElement(m.a,{type:"primary",htmlType:"reset",onClick:this.onReset},"重置")))),V.a.createElement("div",{className:"c-operate"},g.includes("diskmodel-add")&&V.a.createElement(m.a,{size:"middle",onClick:function(){e.onModalShow("add",{})},className:"actions-btn"},"添加"),g.includes("diskmodel-del")&&V.a.createElement(m.a,{size:"middle",onClick:this.showDeleteConfirm,className:"actions-btn"},"批量删除")),V.a.createElement("div",{className:"g-table"},V.a.createElement(c.a,{columns:this.makeColumns(),rowKey:function(e){return e.id},loading:t,dataSource:s,pagination:!1,rowSelection:y,size:"small"})),V.a.createElement("div",{className:"pagination"},V.a.createElement(o.a,{className:"g-pagination",size:"middle",current:r,total:u,showSizeChanger:!0,showQuickJumper:!0,defaultPageSize:l,showTotal:function(e){return"一共".concat(e,"条数据")},onChange:function(a,t){e.onPageChange(a,t)},onShowSizeChange:function(a,t){e.onPageSizeChange(a,t)}})),V.a.createElement(be,{operateType:n,nowData:d,visible:i,updateLists:this.onGetListData,onOk:this.onModalOk,edit:this.edit,onClose:this.onModalClose,useType:E,disk_type:v,interfaceType:S,disk_brand:b,disk_short:w,server_disk_spec:C}))}}]),n}(V.a.Component),G()(ye,"propTypes",{location:Q.a.any,history:Q.a.any,userinfo:Q.a.any,powers:Q.a.array}),ke=ge))||ke)||ke)||ke)||ke)||ke},1596:function(e,a,t){"use strict";var n=t(0),s={name:"eye",theme:"outlined",icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]}},r=t(69),l=function(e,a){return n.createElement(r.a,Object.assign({},e,{ref:a,icon:s}))};l.displayName="EyeOutlined";a.a=n.forwardRef(l)},1795:function(e,a,t){}}]);