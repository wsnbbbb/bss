(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{1560:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return Ke}));a(172);var n,r,o,i,s,c,l,d,u,p=a(105),m=a.n(p),y=(a(152),a(78)),h=a.n(y),f=(a(98),a(55)),g=a.n(f),k=(a(47),a(17)),S=a.n(k),v=a(15),b=a.n(v),w=a(19),C=a.n(w),E=a(6),O=a.n(E),D=a(20),R=a.n(D),M=a(21),I=a.n(M),z=a(13),N=a.n(z),j=a(2),L=a.n(j),P=(a(65),a(25)),_=a.n(P),G=(a(60),a(12)),x=a.n(G),T=(a(58),a(11)),K=a.n(T),U=a(0),B=a.n(U),F=a(1),A=a.n(F),H=a(23),q=a(9),J=(a(71),a(5)),V=a.n(J),Z=a(18),Q=(a(132),a(35)),W=a.n(Q),X=(a(416),a(192)),Y=a.n(X),$=a(1591),ee=a(99),te=(a(3),a(153),a(28),a(26));function ae(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ne(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}x.a.Item,g.a.TextArea;var re,oe,ie,se,ce,le,de,ue,pe,me=K.a.Option,ye=(Y.a.TreeNode,_.a.confirm),he=(n=Object(H.b)("root"),r=Object(H.b)("cabinetDict"),o=Object(H.b)("serverDict"),i=Object(H.b)("deviceDict"),s=Object(H.b)("serverPartDict"),c=Object(H.b)("areaResouse"),Object(ee.g)(l=n(l=r(l=o(l=i(l=s(l=c(l=Object(H.c)((u=d=function(e){R()(n,e);var t,a=(t=n,function(){var e,a=N()(t);if(ne()){var n=N()(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return I()(this,e)});function n(e){var t;return b()(this,n),t=a.call(this,e),L()(O()(t),"onReset",(function(){t.searchFormRef.current.resetFields()})),L()(O()(t),"onClose",(function(){t.setState({showModal:!1})})),L()(O()(t),"selectedRow",(function(e,a){t.setState({selectedRowKeys:e})})),L()(O()(t),"showAddConfirm",(function(){var e=t.state.selectedRowKeys,a=O()(t);if(e.length<1)return _.a.warning({title:"提示",content:"请选择至少一条数据！",destroyOnClose:!0}),!1;ye({title:"你确定要批量关联到此配件类型吗？",icon:B.a.createElement($.a,null),okText:"确定",okType:"danger",cancelText:"取消",onOk:function(){a.onModelOk(e),a.setState({selectedRowKeys:[]})},onCancel:function(){}})})),L()(O()(t),"onModelOk",(function(e){t.setState({loading:!0}),Z.a.post("".concat(BSS_ADMIN_URL,"/api/old/parts/memory/").concat(t.props.record.id,"/add"),e).then((function(e){2e4===(e=e.data).code?(t.onGetMListData({page:1,inServer:!0}),q.a.auto_close_result("ok","操作成功")):(q.a.dealFail(e),t.setState({loading:!1}))})).catch((function(){t.setState({loading:!1})}))})),t.selectedRowKeys=[],t.searchFormRef=B.a.createRef(),t.searchCondition={},t.state={lists:[],loading:!1,showModal:!1,pageNum:1,page_size:20,total:0,pages:0,selectedRowKeys:[],lists2:[]},t}return C()(n,[{key:"componentDidMount",value:function(){}},{key:"onGetMListData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=V.a.assign({},this.searchCondition,{productId:this.props.record.id},t);this.setState({loading:!0}),Z.a.get("".concat(BSS_ADMIN_URL,"/api/old/parts/memory/list"),{params:q.a.clearEmpty(a)}).then((function(t){if(t=t.data,q.a.hasStatusOk(t)){var a=t.data.records;e.setState({lists:a,total:t.data.total,pages:t.data.pages,pageNum:t.data.current,selectedRowKeys:[]})}else q.a.dealFail(t);e.setState({loading:!1})})).catch((function(){e.setState({loading:!1})}))}},{key:"onGetBrand",value:function(){var e=this;Z.a.get("".concat(BSS_ADMIN_URL,"/api/product/memorymodel/memorybrand")).then((function(t){2e4===(t=t.data).code?e.setState({lists2:t.data}):W.a.error(t.data)})).catch((function(){}))}},{key:"modalShow",value:function(){this.searchCondition={},"see"===this.props.type?this.onGetMListData():this.onGetMListData({inServer:!0}),this.onGetBrand(),this.setState({showModal:!0})}},{key:"onSearch",value:function(e){this.searchCondition=e;var t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(a),!0).forEach((function(t){L()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ae(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{inServer:!0});"see"===this.props.type?this.onGetMListData(e):this.onGetMListData(t)}},{key:"makeColumns",value:function(){var e=te.k.mem_spec,t=te.k.memory_type,a=te.k.mem_verify;return[{title:"内存型号名称",dataIndex:"memName",key:"memName"},{title:"内存容量(GB)",dataIndex:"memSize",key:"memSize"},{title:"内存主频(MHZ)",dataIndex:"memHz",key:"memHz"},{title:"内存品牌",dataIndex:"memBrand",key:"memBrand"},{title:"内存型号",dataIndex:"memModel",key:"memModel"},{title:"内存规格",dataIndex:"memSpec",key:"memSpec",render:function(t,a){return e[t]}},{title:"内存类型",dataIndex:"memType",key:"memType",render:function(e,a){return t[e]}},{title:"内存校验",dataIndex:"memVerify",key:"memVerify",render:function(e,t){return a[e]}},{title:"备注",dataIndex:"remark",key:"remark"}]}},{key:"render",value:function(){var e=this,t=this.state,a=t.lists,n=t.showModal,r=t.loading,o=t.total,i=t.page_size,s=t.pageNum,c=t.lists2,l=this.props.type,d=te.k.mem_spec,u=te.k.memory_type,p={current:s,total:o,size:i,defaultPageSize:i,onChange:function(t,a){return"see"===l?e.onGetMListData({page:t,pageSize:a}):e.onGetMListData({page:t,pageSize:a,inServer:!0})},onShowSizeChange:function(t,a){return"see"===l?e.onGetMListData({page:t,pageSize:a}):e.onGetMListData({page:t,pageSize:a,inServer:!0})},showTotal:function(e){return"一共".concat(e,"条数据")}};return B.a.createElement("main",{style:{float:"left"}},B.a.createElement(_.a,{title:"see"===l?"查看内存":"关联内存",maskClosable:!1,width:"80%",destroyOnClose:!0,footer:null,onCancel:this.onClose,visible:n},B.a.createElement("div",{className:"g-search"},B.a.createElement(x.a,{ref:this.searchFormRef,name:"horizontal_login",layout:"inline",onFinish:function(t){e.onSearch(t)}},B.a.createElement(x.a.Item,{name:"memType"},B.a.createElement(K.a,{style:{width:240},allowClear:!0,placeholder:"请选择内存类型"},V.a.map(u,(function(e,t){return B.a.createElement(me,{value:t,key:t},e)})))),B.a.createElement(x.a.Item,{name:"memSize"},B.a.createElement(g.a,{placeholder:"请输入内存容量",allowClear:!0})),B.a.createElement(x.a.Item,{name:"memBrand"},B.a.createElement(K.a,{style:{width:240},allowClear:!0,placeholder:"请选择内存品牌"},c.map((function(e){return B.a.createElement(me,{key:e},e)})))),B.a.createElement(x.a.Item,{name:"memSpec"},B.a.createElement(K.a,{style:{width:240},allowClear:!0,placeholder:"请选择内存规格"},V.a.map(d,(function(e,t){return B.a.createElement(me,{value:t,key:t},e)})))),B.a.createElement(x.a.Item,{shouldUpdate:!0},B.a.createElement(S.a,{type:"primary",htmlType:"submit"},"搜索")),B.a.createElement(x.a.Item,{shouldUpdate:!0},B.a.createElement(S.a,{type:"primary",htmlType:"reset",onClick:this.onReset},"重置")))),B.a.createElement("div",{className:"c-operate"},B.a.createElement(S.a,{size:"middle",onClick:this.showAddConfirm,className:"actions-btn",style:"see"===l?{display:"none"}:{display:"inline-block"}},"批量关联"),B.a.createElement(S.a,{size:"middle",onClick:"see"===l?function(){return e.onGetMListData()}:function(){return e.onGetMListData({inServer:!0})},className:"actions-btn"},"刷新")),B.a.createElement("div",{className:"g-table"},B.a.createElement(h.a,{columns:this.makeColumns(),rowKey:function(e){return e.id},loading:r,dataSource:a,pagination:p,size:"small",rowSelection:"see"===l?null:{selectedRowKeys:this.state.selectedRowKeys,onChange:function(t,a){e.selectedRow(t,a)}}}))),B.a.createElement("span",{onClick:function(){e.modalShow()}},this.props.children))}}]),n}(B.a.Component),L()(d,"propTypes",{location:A.a.any,history:A.a.any,match:A.a.any,root:A.a.any,cabinetDict:A.a.any,powers:A.a.array,defaultData:A.a.any,onOk:A.a.func,onClose:A.a.func,children:A.a.any,deviceDict:A.a.any,record:A.a.any,serverDict:A.a.any,type:A.a.any,areaResouse:A.a.any,serverPartDict:A.a.any}),l=u))||l)||l)||l)||l)||l)||l)||l)||l);function fe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ge(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}x.a.Item,g.a.TextArea;var ke,Se,ve,be,we,Ce,Ee,Oe,De,Re=K.a.Option,Me=(Y.a.TreeNode,_.a.confirm),Ie=(re=Object(H.b)("root"),oe=Object(H.b)("cabinetDict"),ie=Object(H.b)("serverDict"),se=Object(H.b)("deviceDict"),ce=Object(H.b)("serverPartDict"),le=Object(H.b)("areaResouse"),Object(ee.g)(de=re(de=oe(de=ie(de=se(de=ce(de=le(de=Object(H.c)((pe=ue=function(e){R()(n,e);var t,a=(t=n,function(){var e,a=N()(t);if(ge()){var n=N()(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return I()(this,e)});function n(e){var t;return b()(this,n),t=a.call(this,e),L()(O()(t),"onReset",(function(){t.searchFormRef.current.resetFields()})),L()(O()(t),"onClose",(function(){t.setState({showModal:!1})})),L()(O()(t),"selectedRow",(function(e,a){t.setState({selectedRowKeys:e})})),L()(O()(t),"showAddConfirm",(function(){var e=t.state.selectedRowKeys,a=O()(t);if(e.length<1)return _.a.warning({title:"提示",content:"请选择至少一条数据！",destroyOnClose:!0}),!1;Me({title:"你确定要批量关联到此配件类型吗？",icon:B.a.createElement($.a,null),okText:"确定",okType:"danger",cancelText:"取消",onOk:function(){a.onModelOk(e),a.setState({selectedRowKeys:[]})},onCancel:function(){}})})),L()(O()(t),"onModelOk",(function(e){t.setState({loading:!0}),Z.a.post("".concat(BSS_ADMIN_URL,"/api/old/parts/disk/").concat(t.props.record.id,"/add"),e).then((function(e){2e4===(e=e.data).code?(t.onGetMListData({page:1,inServer:!0}),t.setState({selectedRowKeys:[]}),q.a.auto_close_result("ok","操作成功")):(q.a.dealFail(e),t.setState({loading:!1}))})).catch((function(){t.setState({loading:!1})}))})),t.selectedRowKeys=[],t.searchFormRef=B.a.createRef(),t.searchCondition={},t.state={lists:[],loading:!1,showModal:!1,pageNum:1,page_size:20,total:0,pages:0,selectedRowKeys:[],lists2:[]},t}return C()(n,[{key:"componentDidMount",value:function(){}},{key:"onGetMListData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=V.a.assign({},this.searchCondition,{productId:this.props.record.id},t);this.setState({loading:!0}),Z.a.get("".concat(BSS_ADMIN_URL,"/api/old/parts/disk/list"),{params:q.a.clearEmpty(a)}).then((function(t){if(t=t.data,q.a.hasStatusOk(t)){var a=t.data.records;e.setState({lists:a,total:t.data.total,pages:t.data.pages,pageNum:t.data.current,selectedRowKeys:[]})}else q.a.dealFail(t);e.setState({loading:!1})})).catch((function(){e.setState({loading:!1})}))}},{key:"onGetBrand",value:function(){var e=this;Z.a.get("".concat(BSS_ADMIN_URL,"/api/product/diskmodel/diskbrand")).then((function(t){2e4===(t=t.data).code?e.setState({lists2:t.data}):W.a.error(t.data)})).catch((function(){}))}},{key:"modalShow",value:function(){this.searchCondition={},"see"===this.props.type?this.onGetMListData():this.onGetMListData({inServer:!0}),this.onGetBrand(),this.setState({showModal:!0})}},{key:"onSearch",value:function(e){this.searchCondition=e;var t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(a),!0).forEach((function(t){L()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):fe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{inServer:!0});"see"===this.props.type?this.onGetMListData(e):this.onGetMListData(t)}},{key:"makeColumns",value:function(){var e=te.k.disk_type,t=te.k.disk_interface_type,a=(te.k.disk_short,te.k.server_disk_spec);return[{title:"硬盘型号名称",dataIndex:"diskName",key:"diskName"},{title:"品牌",dataIndex:"diskBrand",key:"diskBrand"},{title:"型号",dataIndex:"diskModel",key:"diskModel"},{title:"硬盘类型",dataIndex:"diskType",key:"diskType",render:function(t,a){return e[t]}},{title:"规格",dataIndex:"diskMeasure",key:"diskMeasure",render:function(e,t){return a[e]}},{title:"接口类型",dataIndex:"interfaceType",key:"interfaceType",render:function(e,a){return t[e]}},{title:"缓存(MB)",dataIndex:"diskCache",key:"diskCache"},{title:"转速",dataIndex:"diskRpm",key:"diskRpm"},{title:"硬盘容量",dataIndex:"diskSize",key:"diskSize"},{title:"备注",dataIndex:"remark",key:"remark"}]}},{key:"render",value:function(){var e=this,t=this.state,a=t.lists,n=t.showModal,r=t.loading,o=t.total,i=t.page_size,s=t.pageNum,c=t.lists2,l=this.props.type,d=(te.k.disk_type,{current:s,total:o,size:i,defaultPageSize:i,onChange:function(t,a){return"see"===l?e.onGetMListData({page:t,pageSize:a}):e.onGetMListData({page:t,pageSize:a,inServer:!0})},onShowSizeChange:function(t,a){return"see"===l?e.onGetMListData({page:t,pageSize:a}):e.onGetMListData({page:t,pageSize:a,inServer:!0})},showTotal:function(e){return"一共".concat(e,"条数据")}});return B.a.createElement("main",{style:{float:"left"}},B.a.createElement(_.a,{title:"see"===l?"查看硬盘":"关联硬盘",maskClosable:!1,width:"80%",destroyOnClose:!0,footer:null,onCancel:this.onClose,visible:n},B.a.createElement("div",{className:"g-search"},B.a.createElement(x.a,{ref:this.searchFormRef,name:"horizontal_login",layout:"inline",onFinish:function(t){e.onSearch(t)}},B.a.createElement(x.a.Item,{name:"diskName"},B.a.createElement(g.a,{placeholder:"请输入硬盘名称",allowClear:!0})),B.a.createElement(x.a.Item,{name:"diskSize"},B.a.createElement(g.a,{placeholder:"请输入硬盘容量",allowClear:!0})),B.a.createElement(x.a.Item,{name:"diskBrand"},B.a.createElement(K.a,{style:{width:240},allowClear:!0,placeholder:"请选择硬盘品牌"},c.map((function(e){return B.a.createElement(Re,{key:e},e)})))),B.a.createElement(x.a.Item,{shouldUpdate:!0},B.a.createElement(S.a,{type:"primary",htmlType:"submit"},"搜索")),B.a.createElement(x.a.Item,{shouldUpdate:!0},B.a.createElement(S.a,{type:"primary",htmlType:"reset",onClick:this.onReset},"重置")))),B.a.createElement("div",{className:"c-operate"},B.a.createElement(S.a,{size:"middle",onClick:this.showAddConfirm,className:"actions-btn",style:"see"===l?{display:"none"}:{display:"inline-block"}},"批量关联"),B.a.createElement(S.a,{size:"middle",onClick:"see"===l?function(){return e.onGetMListData()}:function(){return e.onGetMListData({inServer:!0})},className:"actions-btn"},"刷新")),B.a.createElement("div",{className:"g-table"},B.a.createElement(h.a,{columns:this.makeColumns(),rowKey:function(e){return e.id},loading:r,dataSource:a,pagination:d,size:"small",rowSelection:"see"===l?null:{selectedRowKeys:this.state.selectedRowKeys,onChange:function(t,a){e.selectedRow(t,a)}}}))),B.a.createElement("span",{onClick:function(){e.modalShow()}},this.props.children))}}]),n}(B.a.Component),L()(ue,"propTypes",{location:A.a.any,history:A.a.any,match:A.a.any,root:A.a.any,cabinetDict:A.a.any,powers:A.a.array,defaultData:A.a.any,onOk:A.a.func,onClose:A.a.func,children:A.a.any,deviceDict:A.a.any,record:A.a.any,serverDict:A.a.any,type:A.a.any,areaResouse:A.a.any,serverPartDict:A.a.any}),de=pe))||de)||de)||de)||de)||de)||de)||de)||de);function ze(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ne(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}x.a.Item,g.a.TextArea;var je,Le,Pe,_e=K.a.Option,Ge=(Y.a.TreeNode,_.a.confirm),xe=(ke=Object(H.b)("root"),Se=Object(H.b)("cabinetDict"),ve=Object(H.b)("serverDict"),be=Object(H.b)("deviceDict"),we=Object(H.b)("serverPartDict"),Ce=Object(H.b)("areaResouse"),Object(ee.g)(Ee=ke(Ee=Se(Ee=ve(Ee=be(Ee=we(Ee=Ce(Ee=Object(H.c)((De=Oe=function(e){R()(n,e);var t,a=(t=n,function(){var e,a=N()(t);if(Ne()){var n=N()(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return I()(this,e)});function n(e){var t;return b()(this,n),t=a.call(this,e),L()(O()(t),"onReset",(function(){t.searchFormRef.current.resetFields()})),L()(O()(t),"onClose",(function(){t.setState({showModal:!1})})),L()(O()(t),"selectedRow",(function(e,a){t.setState({selectedRowKeys:e})})),L()(O()(t),"showAddConfirm",(function(){var e=t.state.selectedRowKeys,a=O()(t);if(e.length<1)return _.a.warning({title:"提示",content:"请选择至少一条数据！",destroyOnClose:!0}),!1;Ge({title:"你确定要批量关联到此配件类型吗？",icon:B.a.createElement($.a,null),okText:"确定",okType:"danger",cancelText:"取消",onOk:function(){a.onModelOk(e),a.setState({selectedRowKeys:[]})},onCancel:function(){}})})),L()(O()(t),"onModelOk",(function(e){t.setState({loading:!0}),Z.a.post("".concat(BSS_ADMIN_URL,"/api/old/parts/cpu/").concat(t.props.record.id,"/add"),e).then((function(e){2e4===(e=e.data).code?(t.onGetMListData({page:1,inServer:!0}),t.setState({selectedRowKeys:[]}),q.a.auto_close_result("ok","操作成功")):(q.a.dealFail(e),t.setState({loading:!1}))})).catch((function(){t.setState({loading:!1})}))})),t.selectedRowKeys=[],t.searchFormRef=B.a.createRef(),t.searchCondition={},t.state={lists:[],loading:!1,showModal:!1,pageNum:1,page_size:20,total:0,pages:0,selectedRowKeys:[],lists2:[],lists3:[]},t}return C()(n,[{key:"componentDidMount",value:function(){}},{key:"onGetMListData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=V.a.assign({},this.searchCondition,{productId:this.props.record.id},t);this.setState({loading:!0}),Z.a.get("".concat(BSS_ADMIN_URL,"/api/old/parts/cpu/list"),{params:q.a.clearEmpty(a)}).then((function(t){if(t=t.data,q.a.hasStatusOk(t)){var a=t.data.records;e.setState({lists:a,total:t.data.total,pages:t.data.pages,pageNum:t.data.current,selectedRowKeys:[]})}else q.a.dealFail(t);e.setState({loading:!1})})).catch((function(){e.setState({loading:!1})}))}},{key:"onGetBrand",value:function(){var e=this;Z.a.get("".concat(BSS_ADMIN_URL,"/api/product/cpumodel/cpubrand")).then((function(t){2e4===(t=t.data).code?e.setState({lists2:t.data}):W.a.error(t.data)})).catch((function(){}))}},{key:"onGetModel",value:function(){var e=this;Z.a.get("".concat(BSS_ADMIN_URL,"/api/product/cpumodel/modelname")).then((function(t){2e4===(t=t.data).code?e.setState({lists3:t.data}):W.a.error(t.data)})).catch((function(){}))}},{key:"modalShow",value:function(){"see"===this.props.type?this.onGetMListData():this.onGetMListData({inServer:!0}),this.onGetBrand(),this.onGetModel(),this.setState({showModal:!0})}},{key:"onSearch",value:function(e){this.searchCondition=e;var t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(a),!0).forEach((function(t){L()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ze(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{inServer:!0});"see"===this.props.type?this.onGetMListData(e):this.onGetMListData(t)}},{key:"makeColumns",value:function(){return[{title:"CPU型号名称",dataIndex:"cpuName",key:"cpuName"},{title:"产品组",dataIndex:"productMapId",key:"productMapId"},{title:"CPU个数",dataIndex:"cpuNumber",key:"cpuNumber"},{title:"品牌",dataIndex:"cpuBrand",key:"cpuBrand"},{title:"型号",dataIndex:"cpuModel",key:"cpuModel"},{title:"主频(GHZ)",dataIndex:"cpuHz",key:"cpuHz"},{title:"核心数",dataIndex:"cpuCore",key:"cpuCore"},{title:"线程数",dataIndex:"cpuThread",key:"cpuThread"},{title:"接口类型",dataIndex:"interfaceType",key:"interfaceType"},{title:"备注",dataIndex:"remark",key:"remark"}]}},{key:"render",value:function(){var e=this,t=this.state,a=t.lists,n=t.showModal,r=t.loading,o=t.total,i=t.page_size,s=t.pageNum,c=t.lists2,l=t.lists3,d=this.props.type,u={current:s,total:o,size:i,defaultPageSize:i,onChange:function(t,a){return"see"===d?e.onGetMListData({page:t,pageSize:a}):e.onGetMListData({page:t,pageSize:a,inServer:!0})},onShowSizeChange:function(t,a){return"see"===d?e.onGetMListData({page:t,pageSize:a}):e.onGetMListData({page:t,pageSize:a,inServer:!0})},showTotal:function(e){return"一共".concat(e,"条数据")}};return B.a.createElement("main",{style:{float:"left"}},B.a.createElement(_.a,{title:"see"===d?"查看CPU":"关联CPU",maskClosable:!1,width:"80%",destroyOnClose:!0,footer:null,onCancel:this.onClose,visible:n},B.a.createElement("div",{className:"g-search"},B.a.createElement(x.a,{ref:this.searchFormRef,name:"horizontal_login",layout:"inline",onFinish:function(t){e.onSearch(t)}},B.a.createElement(x.a.Item,{name:"cpuName"},B.a.createElement(g.a,{placeholder:"请输入CPU型号名称",allowClear:!0})),B.a.createElement(x.a.Item,{name:"cpuModel"},B.a.createElement(K.a,{style:{width:240},allowClear:!0,placeholder:"请选择cpu型号"},l.map((function(e){return B.a.createElement(_e,{key:e},e)})))),B.a.createElement(x.a.Item,{name:"cpuBrand"},B.a.createElement(K.a,{style:{width:240},allowClear:!0,placeholder:"请选择cpu品牌"},c.map((function(e){return B.a.createElement(_e,{key:e},e)})))),B.a.createElement(x.a.Item,{shouldUpdate:!0},B.a.createElement(S.a,{type:"primary",htmlType:"submit"},"搜索")),B.a.createElement(x.a.Item,{shouldUpdate:!0},B.a.createElement(S.a,{type:"primary",htmlType:"reset",onClick:this.onReset},"重置")))),B.a.createElement("div",{className:"c-operate"},B.a.createElement(S.a,{size:"middle",onClick:this.showAddConfirm,className:"actions-btn",style:"see"===d?{display:"none"}:{display:"inline-block"}},"批量关联"),B.a.createElement(S.a,{size:"middle",onClick:"see"===d?function(){return e.onGetMListData()}:function(){return e.onGetMListData({inServer:!0})},className:"actions-btn"},"刷新")),B.a.createElement("div",{className:"g-table"},B.a.createElement(h.a,{columns:this.makeColumns(),rowKey:function(e){return e.id},loading:r,dataSource:a,pagination:u,size:"small",rowSelection:"see"===d?null:{selectedRowKeys:this.state.selectedRowKeys,onChange:function(t,a){e.selectedRow(t,a)}}}))),B.a.createElement("span",{onClick:function(){e.modalShow()}},this.props.children))}}]),n}(B.a.Component),L()(Oe,"propTypes",{location:A.a.any,history:A.a.any,match:A.a.any,root:A.a.any,cabinetDict:A.a.any,powers:A.a.array,defaultData:A.a.any,onOk:A.a.func,onClose:A.a.func,children:A.a.any,deviceDict:A.a.any,record:A.a.any,serverDict:A.a.any,type:A.a.any,areaResouse:A.a.any,serverPartDict:A.a.any}),Ee=De))||Ee)||Ee)||Ee)||Ee)||Ee)||Ee)||Ee)||Ee);function Te(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}K.a.Option,x.a.Item,_.a.confirm;var Ke=Object(H.b)("root")(je=Object(H.b)("authManage")(je=Object(H.b)("pageUserstore")(je=Object(H.b)("serverPartDict")(je=Object(H.c)((Pe=Le=function(e){R()(n,e);var t,a=(t=n,function(){var e,a=N()(t);if(Te()){var n=N()(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return I()(this,e)});function n(e){var t;return b()(this,n),t=a.call(this,e),L()(O()(t),"updateURL",(function(){var e,a,n,r,o=(e={query:t.state.inputValue},a=e.query,n=void 0===a?"":a,(r=new URLSearchParams).set("query",n),r.toString());t.props.history.push("?".concat(o))})),L()(O()(t),"onReset",(function(){t.searchFormRef.current.resetFields()})),t.searchFormRef=B.a.createRef(),t.searchCondition={},t.state={lists:[],loading:!1,pageNum:1,page_size:20,total:0},t}return C()(n,[{key:"componentDidMount",value:function(){this.onGetListData(this.state.pageNum,this.state.page_size)}},{key:"componentWillReceiveProps",value:function(){}},{key:"onGetListData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=V.a.assign({},this.searchCondition,t);this.setState({loading:!0}),Z.a.get("".concat(BSS_ADMIN_URL,"/api/old/parts/list"),{params:q.a.clearEmpty(a)}).then((function(t){if(t=t.data,q.a.hasStatusOk(t)){var a=t.data.records;e.setState({lists:a,total:t.data.total,pages:t.data.pages,pageNum:t.data.current})}else q.a.dealFail(t);e.setState({loading:!1})})).catch((function(){e.setState({loading:!1})}))}},{key:"makeColumns",value:function(){return[{title:"类型名称",dataIndex:"typeName",key:"typeName"},{title:"操作",key:"control",fixed:"right",render:function(e,t){var a=[];return 1===t.type&&a.push(B.a.createElement(he,{record:t,type:"see"},B.a.createElement(S.a,{key:"2",size:"small",className:"actions-btn",style:{marginRight:"8px"}},"查看内存"))),1===t.type&&a.push(B.a.createElement(he,{record:t,type:"relet"},B.a.createElement(S.a,{key:"3",size:"small",className:"actions-btn",style:{marginRight:"8px"}},"关联内存"))),2===t.type&&a.push(B.a.createElement(Ie,{record:t,type:"see"},B.a.createElement(S.a,{key:"4",size:"small",className:"actions-btn",style:{marginRight:"8px"}},"查看硬盘"))),2===t.type&&a.push(B.a.createElement(Ie,{record:t,type:"relet"},B.a.createElement(S.a,{key:"5",size:"small",className:"actions-btn",style:{marginRight:"8px"}},"关联硬盘"))),3===t.type&&a.push(B.a.createElement(xe,{record:t,type:"see"},B.a.createElement(S.a,{key:"6",size:"small",className:"actions-btn",style:{marginRight:"8px"}},"查看CPU"))),3===t.type&&a.push(B.a.createElement(xe,{record:t,type:"relet"},B.a.createElement(S.a,{key:"7",size:"small",className:"actions-btn",style:{marginRight:"8px"}},"关联CPU"))),a}}]}},{key:"onSearch",value:function(e){this.searchCondition=e,this.onGetListData(e)}},{key:"onPageChange",value:function(e,t){this.onGetListData({page:e,pageSize:t})}},{key:"onPageSizeChange",value:function(e,t){this.onGetListData({page:e,pageSize:t})}},{key:"render",value:function(){var e=this,t=(this.props.root.powers,this.state),a=t.loading,n=t.lists,r=t.pageNum,o=t.page_size,i=(t.modalShow,t.total);return B.a.createElement("main",{className:"mian"},B.a.createElement("div",{className:"c-search"},B.a.createElement(x.a,{ref:this.searchFormRef,name:"horizontal_login",layout:"inline",onFinish:function(t){e.onSearch(t)}},B.a.createElement(x.a.Item,{name:"typeName"},B.a.createElement(g.a,{placeholder:"请输入类型名称",allowClear:!0})),B.a.createElement(x.a.Item,{shouldUpdate:!0},B.a.createElement(S.a,{type:"primary",htmlType:"submit"},"搜索")),B.a.createElement(x.a.Item,{shouldUpdate:!0},B.a.createElement(S.a,{type:"primary",htmlType:"reset",onClick:this.onReset},"重置")))),B.a.createElement("div",{className:"g-table"},B.a.createElement(h.a,{columns:this.makeColumns(),rowKey:function(e){return e.id},loading:a,dataSource:n,pagination:!1,size:"small"})),B.a.createElement("div",{className:"pagination"},B.a.createElement(m.a,{className:"g-pagination",size:"middle",current:r,total:i,showSizeChanger:!0,showQuickJumper:!0,defaultPageSize:o,showTotal:function(e){return"一共".concat(e,"条数据")},onChange:function(t,a){e.onPageChange(t,a)},onShowSizeChange:function(t,a){e.onPageSizeChange(t,a)}})))}}]),n}(B.a.Component),L()(Le,"propTypes",{location:A.a.any,history:A.a.any,userinfo:A.a.any,powers:A.a.array,authManage:A.a.any,match:A.a.any,pageUserstore:A.a.any,root:A.a.any,serverPartDict:A.a.any}),je=Pe))||je)||je)||je)||je)||je}}]);