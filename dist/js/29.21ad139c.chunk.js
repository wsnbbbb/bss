(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{1564:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return Ne}));a(172);var n,r,o,l=a(105),s=a.n(l),c=(a(152),a(78)),i=a.n(c),m=(a(47),a(17)),u=a.n(m),p=(a(60),a(12)),d=a.n(p),h=(a(98),a(55)),f=a.n(h),g=(a(254),a(116)),y=a.n(g),b=(a(255),a(133)),E=a.n(b),v=(a(173),a(84)),S=a.n(v),O=a(15),k=a.n(O),w=a(19),x=a.n(w),C=a(6),I=a.n(C),D=a(20),L=a.n(D),N=a(21),j=a.n(N),R=a(13),P=a.n(R),z=a(2),T=a.n(z),F=(a(58),a(11)),M=a.n(F),q=a(0),G=a.n(q),U=a(1),B=a.n(U),W=a(1596),A=a(1592),V=a(1920),$=a(1589),H=a(23),J=a(18),K=a(9),Q=a(52),Z=a(26),X=(a(65),a(25)),Y=a.n(X),ee=(a(174),a(107)),te=a.n(ee),ae=(a(171),a(89)),ne=a.n(ae),re=(a(193),a(75)),oe=a.n(re),le=a(33),se=a.n(le),ce=a(5),ie=a.n(ce),me=a(28);function ue(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function pe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(a),!0).forEach((function(t){T()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ue(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function de(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var he,fe,ge,ye=d.a.Item,be=M.a.Option,Ee=Object(H.b)("root")(n=Object(H.b)("customerDict")(n=Object(H.c)((o=r=function(e){L()(n,e);var t,a=(t=n,function(){var e,a=P()(t);if(de()){var n=P()(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return j()(this,e)});function n(e){var t;return k()(this,n),t=a.call(this,e),T()(I()(t),"onResetSearch",(function(){t.formRef.current.resetFields()})),T()(I()(t),"onClose",(function(){t.props.onClose()})),t.formRef=G.a.createRef(),t.parId=void 0,t.state={modalLoading:!1,modalShowRegion:!1},t.props.customerDict.fetchpayCompany(),t}return x()(n,[{key:"onFinish",value:function(e){var t=this.props,a=t.operateType,n=t.data;if("add"===a){var r=pe({},e,{salesId:e.salesName,salesSupportId:e.salesSupportName,agencyLevel:e.agencyLevelName});this.props.onOk(r)}else{var o=pe({},e,{id:n.id,salesId:e.salesName,salesSupportId:e.salesSupportName,agencyLevel:e.agencyLevelName});this.props.onOk(o)}}},{key:"render",value:function(){var e=this,t=this.props,a=t.operateType,n=t.data,r=t.modalLoading,o=t.visible,l=Z.c.customer_account_status,s=Z.c.customer_pay_type,c=Z.c.customer_ip_source,i=(Z.c.customer_add_status,Z.c.customer_lable_type),m=Z.e.ip_customer_type,p=this.props.customerDict,h=p.customersource,g=p.customerindustry,y=p.agencyLevel,b=p.saleslist,E=p.saleSupportlist,v=p.payCompany;return console.log(this.props),G.a.createElement("div",null,G.a.createElement(Y.a,{title:{add:"客户信息添加",up:"客户信息修改",see:"客户信息查看"}[a],maskClosable:!1,width:"60%",destroyOnClose:!0,footer:null,onCancel:this.props.onClose,visible:o},G.a.createElement(te.a,{tip:"Loading...",spinning:r},G.a.createElement(d.a,{name:"form_in_modal",ref:this.formRef,className:"g-modal-field",onFinish:function(t){e.onFinish(t)},initialValues:n},G.a.createElement(ne.a,null,G.a.createElement(oe.a,{xs:24,sm:24,md:24,lg:12,xl:12},G.a.createElement(ye,se()({name:"email",label:"用户邮箱",rules:[{required:!0,message:"请输入用户邮箱"}]},me.a),G.a.createElement(f.a,{type:"text",disabled:"see"===a,maxLength:30}))),G.a.createElement(oe.a,{xs:24,sm:24,md:24,lg:12,xl:12},G.a.createElement(ye,se()({name:"loginName",label:"用户名",rules:[{required:!0,message:"请输入用户名"}]},me.a),G.a.createElement(f.a,{type:"text",disabled:"see"===a,maxLength:30}))),G.a.createElement(oe.a,{xs:24,sm:24,md:24,lg:12,xl:12},G.a.createElement(d.a.Item,se()({name:"salesName"},me.a,{label:"销售",rules:[{required:!0,message:"请选择销售"}]}),G.a.createElement(M.a,{disabled:"see"===a,showSearch:!0,filterOption:K.a.filterOption},ie.a.map(b,(function(e,t){return G.a.createElement(be,{value:t,key:t}," ",e," ")}))))),G.a.createElement(oe.a,{xs:24,sm:24,md:24,lg:12,xl:12},G.a.createElement(d.a.Item,se()({name:"salesSupportName"},me.a,{label:"销售支持",rules:[{required:!0,message:"请选择销售支持"}]}),G.a.createElement(M.a,{disabled:"see"===a,showSearch:!0,filterOption:K.a.filterOption},ie.a.map(E,(function(e,t){return G.a.createElement(be,{value:t,key:t}," ",e," ")}))))),G.a.createElement(oe.a,{xs:24,sm:24,md:24,lg:12,xl:12},G.a.createElement(d.a.Item,se()({name:"agencyLevelName"},me.a,{label:"代理等级",rules:[{required:!0,message:"请选择代理等级"}]}),G.a.createElement(M.a,{disabled:"see"===a},ie.a.map(y,(function(e,t){return G.a.createElement(be,{value:t,key:t}," ",e," ")}))))),G.a.createElement(oe.a,{xs:24,sm:24,md:24,lg:12,xl:12},G.a.createElement(d.a.Item,se()({name:"payType",rules:[{required:!0,message:"请选择付费类型"}]},me.a,{label:"付费类型"}),G.a.createElement(M.a,{disabled:"see"===a},ie.a.map(s,(function(e,t){return G.a.createElement(be,{value:parseInt(t),key:t}," ",e," ")}))))),G.a.createElement(oe.a,{xs:24,sm:24,md:24,lg:12,xl:12},G.a.createElement(ye,se()({name:"label",label:"用户标签",rules:[{required:!0,message:"请选择用户标签"}]},me.a),G.a.createElement(M.a,{disabled:"see"===a},ie.a.map(i,(function(e,t){return G.a.createElement(be,{value:parseInt(t),key:t}," ",e," ")}))))),G.a.createElement(oe.a,{xs:24,sm:24,md:24,lg:12,xl:12},G.a.createElement(ye,se()({name:"status",label:"用户状态",rules:[{required:!0,message:"请选择用户状态"}]},me.a),G.a.createElement(M.a,{disabled:"see"===a},ie.a.map(l,(function(e,t){return G.a.createElement(be,{value:parseInt(t),key:t}," ",e," ")}))))),G.a.createElement(oe.a,{xs:24,sm:24,md:24,lg:12,xl:12},G.a.createElement(ye,se()({name:"payCompanyId",label:"支付主体",rules:[{required:!0,message:"请选择支付主体"}]},me.a),G.a.createElement(M.a,{disabled:"see"===a},ie.a.map(v,(function(e,t){return G.a.createElement(be,{value:parseInt(t),key:t}," ",e," ")}))))),G.a.createElement(oe.a,{xs:24,sm:24,md:24,lg:12,xl:12},G.a.createElement(ye,se()({name:"attribution",label:"客户归属地",rules:[{required:!0,message:"请选择客户归属地"}]},me.a),G.a.createElement(M.a,{disabled:"see"===a},ie.a.map(c,(function(e,t){return G.a.createElement(be,{value:parseInt(t),key:t}," ",e," ")}))))),G.a.createElement(oe.a,{xs:24,sm:24,md:24,lg:12,xl:12},G.a.createElement(ye,se()({name:"realName",label:"客户姓名"},me.a),G.a.createElement(f.a,{type:"text",disabled:"see"===a,maxLength:30}))),G.a.createElement(oe.a,{xs:24,sm:24,md:24,lg:12,xl:12},G.a.createElement(d.a.Item,se()({name:"type"},me.a,{label:"客户类型"}),G.a.createElement(M.a,{disabled:"see"===a},ie.a.map(m,(function(e,t){return G.a.createElement(be,{value:parseInt(t),key:t}," ",e," ")}))))),G.a.createElement(oe.a,{xs:24,sm:24,md:24,lg:12,xl:12},G.a.createElement(d.a.Item,se()({name:"source"},me.a,{label:"客户来源"}),G.a.createElement(M.a,{disabled:"see"===a},ie.a.map(h,(function(e,t){return G.a.createElement(be,{value:parseInt(t),key:t}," ",e," ")}))))),G.a.createElement(oe.a,{xs:24,sm:24,md:24,lg:12,xl:12},G.a.createElement(d.a.Item,se()({name:"industry"},me.a,{label:"客户行业"}),G.a.createElement(M.a,{disabled:"see"===a},ie.a.map(g,(function(e,t){return G.a.createElement(be,{value:parseInt(t),key:t}," ",e," ")}))))),G.a.createElement(oe.a,{xs:24,sm:24,md:24,lg:12,xl:12},G.a.createElement(ye,se()({name:"qq",label:"QQ号"},me.a),G.a.createElement(f.a,{type:"text",disabled:"see"===a,maxLength:30}))),G.a.createElement(oe.a,{xs:24,sm:24,md:24,lg:12,xl:12},G.a.createElement(ye,se()({name:"address",label:"通讯地址"},me.a),G.a.createElement(f.a,{type:"text",disabled:"see"===a,maxLength:150})))),G.a.createElement("div",{className:"actions-btn"},"see"!==a&&G.a.createElement(u.a,{htmlType:"submit",className:"action-btn ok"},"确认"),G.a.createElement(u.a,{onClick:this.onClose,className:"action-btn ok"},"取消"))))))}}]),n}(G.a.Component),T()(r,"propTypes",{root:B.a.any,operateType:B.a.string,powers:B.a.array,data:B.a.any,visible:B.a.bool,modalLoading:B.a.bool,onOk:B.a.func,onClose:B.a.func,customerDict:B.a.any}),n=o))||n)||n)||n;function ve(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Se(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Oe,ke,we,xe=d.a.Item,Ce=Object(H.b)("root")(he=Object(H.c)((ge=fe=function(e){L()(n,e);var t,a=(t=n,function(){var e,a=P()(t);if(Se()){var n=P()(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return j()(this,e)});function n(e){var t;return k()(this,n),t=a.call(this,e),T()(I()(t),"onResetSearch",(function(){t.formRef.current.resetFields()})),T()(I()(t),"onClose",(function(){t.parId=-1,t.props.onClose()})),T()(I()(t),"onSelectRegion",(function(e){t.parId=e})),t.formRef=G.a.createRef(),t.parId=void 0,t.state={modalLoading:!1,modalShowRegion:!1},t}return x()(n,[{key:"onFinish",value:function(e){var t=this.props,a=(t.operateType,function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(a),!0).forEach((function(t){T()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ve(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{id:t.data.id}));if(a.passWord!=a.fixpassWord)return Y.a.warning({title:"提示",content:"两次密码输入不一致，请重新输入！",destroyOnClose:!0}),!1;this.props.onOk(a)}},{key:"Changepassword",value:function(e){console.log(event.target.value);return!!/^(?![A-Z]+$)(?![a-z]+$)(?![0-9]+$)[0-9A-Za-z]{6,20}$/.test(event.target.value)||(Y.a.warning({title:"提示",content:"请输入6-20个字符，包含大写字母、小写字母、数字至少2种",destroyOnClose:!0}),this.formRef.current.setFieldsValue({passWord:null,fixpassWord:null}),!1)}},{key:"render",value:function(){var e=this,t=this.props,a=t.operateType,n=t.data,r=t.modalLoading,o=t.visible;return console.log(n),G.a.createElement("div",null,G.a.createElement(Y.a,{title:"更改密码",maskClosable:!1,width:"50%",destroyOnClose:!0,footer:null,onCancel:this.props.onClose,visible:o},G.a.createElement(te.a,{tip:"Loading...",spinning:r},G.a.createElement(d.a,{name:"form_in_modal",ref:this.formRef,className:"g-modal-field",onFinish:function(t){e.onFinish(t)},initialValues:n},G.a.createElement(ne.a,null,G.a.createElement(oe.a,{xs:24,sm:24,md:24,lg:24,xl:24},G.a.createElement(xe,se()({name:"email",label:"用户邮箱",rules:[{required:!0}]},me.b),G.a.createElement(f.a,{type:"text",disabled:!0}))),G.a.createElement(oe.a,{xs:24,sm:24,md:24,lg:24,xl:24},G.a.createElement(xe,se()({name:"passWord",label:"密码",rules:[{required:!0,message:"请输入密码"}]},me.b),G.a.createElement(f.a,{type:"password",onBlur:function(t){return e.Changepassword(t)}}))),G.a.createElement(oe.a,{xs:24,sm:24,md:24,lg:24,xl:24},G.a.createElement(xe,se()({name:"fixpassWord",label:"确认密码",rules:[{required:!0,message:"请再次输入密码"}]},me.b),G.a.createElement(f.a,{type:"password"})))),G.a.createElement("div",{className:"actions-btn"},"see"!==a&&G.a.createElement(u.a,{htmlType:"submit",className:"action-btn ok"},"确认"),G.a.createElement(u.a,{onClick:this.onClose,className:"action-btn ok"},"取消"))))))}}]),n}(G.a.Component),T()(fe,"propTypes",{root:B.a.any,operateType:B.a.string,powers:B.a.array,data:B.a.any,visible:B.a.bool,modalLoading:B.a.bool,onOk:B.a.func,onClose:B.a.func,customerDict:B.a.any}),he=ge))||he)||he;function Ie(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function De(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Le=M.a.Option,Ne=Object(H.b)("root")(Oe=Object(H.b)("customerDict")(Oe=Object(H.c)((we=ke=function(e){L()(n,e);var t,a=(t=n,function(){var e,a=P()(t);if(De()){var n=P()(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return j()(this,e)});function n(e){var t;return k()(this,n),t=a.call(this,e),T()(I()(t),"searchFormRef",G.a.createRef()),T()(I()(t),"onResetSearch",(function(){t.searchFormRef.current.resetFields()})),T()(I()(t),"onModalClose",(function(){t.setState({modalShow:!1,changemodalShow:!1})})),console.log(t.props),t.selectedRow={length:0,keys:[],rows:[]},t.hardSearch={},t.searchParam={},t.locationId=void 0,t.state={searchParam:{},lists:[],loading:!1,page:1,pageSize:20,total:0,modalLoading:!1,nowData:{},modalShow:!1,selectedRowKeys:[],regionInfo:{}},t}return x()(n,[{key:"componentDidMount",value:function(){this.onGetListData(),Object.keys(this.props.customerDict.customersource).length<=0&&this.props.customerDict.fetchCustomerSource(),Object.keys(this.props.customerDict.customerindustry).length<=0&&this.props.customerDict.fetchCustomerIndustry(),Object.keys(this.props.customerDict.agencyLevel).length<=0&&this.props.customerDict.fetchagencyLevel(),Object.keys(this.props.customerDict.userlist).length<=0&&this.props.customerDict.fetchUserList(),Object.keys(this.props.customerDict.saleslist).length<=0&&this.props.customerDict.fetchsalePersonnel(),Object.keys(this.props.customerDict.saleSupportlist).length<=0&&this.props.customerDict.fetchsaleSupport(),Object.keys(this.props.customerDict.payCompany).length<=0&&this.props.customerDict.fetchpayCompany()}},{key:"onGetListData",value:function(e){var t=this;e=e||this.state.regionInfo;var a=_.assign({},{page:1},this.searchParam,function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(a),!0).forEach((function(t){T()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ie(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e));this.setState({loading:!0}),J.a.get("".concat(BSS_ADMIN_URL,"/api/customer/customerInfo"),{params:a}).then((function(e){e=e.data,console.log(e),K.a.hasStatusOk(e)?t.setState({lists:e.data.records,total:e.data.total,page:e.data.current,selectedRowKeys:[],selectedRows:[]}):K.a.dealFail(e),t.setState({loading:!1})})).catch((function(){t.setState({loading:!1})}))}},{key:"onPageChange",value:function(e,t){this.setState({page:e}),this.onGetListData({page:e,pageSize:t})}},{key:"onPageSizeChange",value:function(e,t){this.setState({page:e,pageSize:t}),this.onGetListData({page:e,pageSize:t})}},{key:"onSearchfrom",value:function(e){console.log(e),this.searchParam=e,this.setState({searchValue:e}),this.onGetListData(e)}},{key:"onModalShow",value:function(e,t){this.setState({modalShow:!0,nowData:t,operateType:e})}},{key:"changePassword",value:function(e){this.setState({changemodalShow:!0,nowData:e})}},{key:"onModalOk",value:function(e){var t=this;if("add"==this.state.operateType){console.log(e);var a=K.a.clearNull(e);J.a.post("".concat(BSS_ADMIN_URL,"/api/customer/customerInfo/addCustomerInfo"),a).then((function(e){e=e.data,console.log(e),K.a.hasStatusOk(e)?(t.setState({modalLoading:!1,modalShow:!1}),t.onGetListData(),K.a.auto_close_result("ok","操作成功")):K.a.dealFail(e),t.setState({modalLoading:!1})})).catch((function(){t.setState({modalLoading:!1})}))}else console.log(e),this.setState({loading:!0,modalLoading:!0}),J.a.put("".concat(BSS_ADMIN_URL,"/api/customer/customerInfo/").concat(e.id,"/updateCustomerInfo"),e).then((function(e){console.log(e),e=e.data,K.a.hasStatusOk(e)?(K.a.auto_close_result("ok","操作成功"),t.setState({page:1,modalLoading:!1,modalShow:!1}),t.onGetListData({page:1})):K.a.dealFail(e),t.setState({modalLoading:!1,loading:!1})})).catch((function(){t.setState({modalLoading:!1,loading:!1})}))}},{key:"onChangepassWord",value:function(e){var t=this;this.setState({loading:!0,modalLoading:!0}),J.a.put("".concat(BSS_ADMIN_URL,"/api/customer/customerInfo/updatePwd"),e).then((function(e){console.log(e),e=e.data,K.a.hasStatusOk(e)?(K.a.auto_close_result("ok","操作成功"),t.setState({page:1,modalLoading:!1,modalShow:!1,changemodalShow:!1}),t.onGetListData({page:1})):K.a.dealFail(e),t.setState({modalLoading:!1,loading:!1})})).catch((function(){t.setState({modalLoading:!1,loading:!1})}))}},{key:"onDel",value:function(e){var t=this;console.log(e),this.setState({loading:!0,modalLoading:!0}),J.a.put("".concat(BSS_ADMIN_URL,"/api/customer/customerInfo/").concat(e,"/delCustomerInfo")).then((function(e){e=e.data,console.log(e),2e4===e.code?(t.setState({loading:!1,modalLoading:!1}),t.onGetListData(),K.a.auto_close_result("ok","操作成功")):(K.a.dealFail(e),t.setState({loading:!1,modalLoading:!1}))})).catch((function(){t.setState({loading:!1,modalLoading:!1})}))}},{key:"makeColumns",value:function(){var e=this,t=Z.c.customer_account_status,a=Z.c.auth_status2,n=Z.c.customer_lable_type,r=this.props.customerDict.payCompany;return[{title:"姓名",dataIndex:"realName",key:"realName"},{title:"用户名",dataIndex:"loginName",key:"loginName"},{title:"用户邮箱",dataIndex:"email",key:"email"},{title:"代理等级",dataIndex:"agencyLevelName",key:"agencyLevelName"},{title:"销售支持",dataIndex:"salesSupportName",key:"salesSupportName"},{title:"销售",dataIndex:"salesName",key:"salesName"},{title:"用户标签",dataIndex:"label",key:"label",render:function(e,t){return n[e]}},{title:"用户状态",dataIndex:"status",key:"status",render:function(e,a){return t[e]}},{title:"支付主体",dataIndex:"payCompanyId",key:"payCompanyId",render:function(e,t){return r[e]}},{title:"认证状态",dataIndex:"authStatus",key:"authStatus",render:function(e,t){return a[e]}},{title:"操作",key:"control",fixed:"right",width:240,render:function(t,a){var n=[];n.push(G.a.createElement("span",{key:"0",className:"control-btn green",onClick:function(){return e.onModalShow("see",a)}},Q.a.hasPermission("customerInfo-view")&&G.a.createElement(S.a,{placement:"top",title:"查看"},G.a.createElement(W.a,null)))),n.push(G.a.createElement("span",{key:"1",className:"control-btn blue",onClick:function(){return e.onModalShow("up",a)}},Q.a.hasPermission("customerInfo-edit")&&G.a.createElement(S.a,{placement:"top",title:"修改"},G.a.createElement(A.a,null)))),n.push(G.a.createElement("span",{key:"2",className:"control-btn blue",onClick:function(){return e.changePassword(a)}},Q.a.hasPermission("updatePwd-edit")&&G.a.createElement(S.a,{placement:"top",title:"更改密码"},G.a.createElement(V.a,null)))),n.push(G.a.createElement(E.a,{key:"3",title:"确定删除吗?",onConfirm:function(){return e.onDel(a.id)},okText:"确定",cancelText:"取消"},G.a.createElement("span",{className:"control-btn red"},Q.a.hasPermission("customerInfo-del")&&G.a.createElement(S.a,{placement:"top",title:"删除"},G.a.createElement($.a,null)))));var r=[];return n.forEach((function(e,t){t&&r.push(G.a.createElement(y.a,{key:"line".concat(t),type:"vertical"})),r.push(e)})),r}}]}},{key:"render",value:function(){var e=this,t=this.state,a=t.lists,n=t.loading,r=t.page,o=t.pageSize,l=t.total,c=this.props.customerDict,m=c.agencyLevel,p=c.saleslist,h=c.saleSupportlist,g=c.payCompany,y=(Z.c.customer_account_status,Z.c.auth_status2,Z.c.customer_lable_type);return G.a.createElement("main",{className:"mian"},G.a.createElement("div",{className:"g-search"},G.a.createElement(d.a,{ref:this.searchFormRef,name:"searchbox",layout:"inline",onFinish:function(t){e.onSearchfrom(t)}},G.a.createElement(d.a.Item,{name:"loginName"},G.a.createElement(f.a,{placeholder:"请输入用户名",maxLength:"30",allowClear:!0})),G.a.createElement(d.a.Item,{name:"email"},G.a.createElement(f.a,{placeholder:"请输入用户邮箱",maxLength:"30",allowClear:!0})),G.a.createElement(d.a.Item,{name:"agencyLevelName"},G.a.createElement(M.a,{placeholder:"请选择代理等级",allowClear:!0,style:{width:170}},_.map(m,(function(e,t){return G.a.createElement(Le,{value:t,key:t}," ",e," ")})))),G.a.createElement(d.a.Item,{name:"salesSupportName"},G.a.createElement(M.a,{placeholder:"请选择销售支持",allowClear:!0,style:{width:170},showSearch:!0,filterOption:K.a.filterOption},_.map(h,(function(e,t){return G.a.createElement(Le,{value:t,key:t}," ",e," ")})))),G.a.createElement(d.a.Item,{name:"salesName"},G.a.createElement(M.a,{placeholder:"请选择销售",allowClear:!0,style:{width:170},showSearch:!0,filterOption:K.a.filterOption},_.map(p,(function(e,t){return G.a.createElement(Le,{value:t,key:t}," ",e," ")})))),G.a.createElement(d.a.Item,{name:"payCompanyId"},G.a.createElement(M.a,{placeholder:"请选择支付主体",allowClear:!0,style:{width:170},showSearch:!0,filterOption:K.a.filterOption},_.map(g,(function(e,t){return G.a.createElement(Le,{value:parseInt(t),key:t}," ",e," ")})))),G.a.createElement(d.a.Item,{name:"label"},G.a.createElement(M.a,{placeholder:"请选择用户标签",allowClear:!0,style:{width:170},showSearch:!0,filterOption:K.a.filterOption},_.map(y,(function(e,t){return G.a.createElement(Le,{value:t,key:t}," ",e," ")})))),G.a.createElement(d.a.Item,{shouldUpdate:!0},G.a.createElement(u.a,{type:"primary",htmlType:"submit"},"查询")),G.a.createElement(d.a.Item,{shouldUpdate:!0},G.a.createElement(u.a,{type:"primary",onClick:this.onResetSearch},"重置")))),G.a.createElement("div",{className:"g-operate"},Q.a.hasPermission("customerInfo-add")&&G.a.createElement(u.a,{size:"middle",className:"actions-btn",onClick:function(){return e.onModalShow("add")}},"添加用户")),G.a.createElement("div",{className:"g-table"},G.a.createElement(i.a,{scroll:{x:1600},columns:this.makeColumns(),rowKey:function(e){return e.id},loading:n,dataSource:a,pagination:!1}),G.a.createElement("div",{className:"g-pagination"},G.a.createElement(s.a,{current:r,total:l,pageSize:o,showSizeChanger:!0,showQuickJumper:!0,showTotal:function(e){return"共 ".concat(e," 条")},onChange:function(t,a){e.onPageChange(t,a)},onShowSizeChange:function(t,a){e.onPageSizeChange(t,a)}}))),G.a.createElement(Ee,{visible:this.state.modalShow,modalLoading:this.state.modalLoading,data:this.state.nowData,operateType:this.state.operateType,onOk:function(t){return e.onModalOk(t)},onClose:function(){return e.onModalClose()}}),G.a.createElement(Ce,{visible:this.state.changemodalShow,modalLoading:this.state.modalLoading,data:this.state.nowData,onOk:function(t){return e.onChangepassWord(t)},onClose:function(){return e.onModalClose()}}))}}]),n}(G.a.Component),T()(ke,"propTypes",{location:B.a.any,history:B.a.any,root:B.a.any,match:B.a.any,customerDict:B.a.any}),Oe=we))||Oe)||Oe)||Oe},1596:function(e,t,a){"use strict";var n=a(0),r={name:"eye",theme:"outlined",icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]}},o=a(69),l=function(e,t){return n.createElement(o.a,Object.assign({},e,{ref:t,icon:r}))};l.displayName="EyeOutlined";t.a=n.forwardRef(l)},1920:function(e,t,a){"use strict";var n=a(0),r={name:"unlock",theme:"outlined",icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464H332V240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v68c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-68c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zm-40 376H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]}},o=a(69),l=function(e,t){return n.createElement(o.a,Object.assign({},e,{ref:t,icon:r}))};l.displayName="UnlockOutlined";t.a=n.forwardRef(l)}}]);