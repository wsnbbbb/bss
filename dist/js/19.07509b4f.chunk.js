(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{1559:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return He}));a(172);var n,s,l,r,o,i=a(105),c=a.n(i),d=(a(152),a(78)),u=a.n(d),m=(a(47),a(17)),p=a.n(m),h=(a(98),a(55)),f=a.n(h),y=(a(254),a(116)),k=a.n(y),g=(a(255),a(133)),E=a.n(g),S=(a(173),a(84)),b=a.n(S),w=(a(175),a(66)),v=a.n(w),C=(a(132),a(35)),x=a.n(C),R=a(15),I=a.n(R),T=a(19),N=a.n(T),M=a(6),D=a.n(M),L=a(20),z=a.n(L),O=a(21),F=a.n(O),q=a(13),G=a.n(q),U=a(2),P=a.n(U),A=(a(65),a(25)),B=a.n(A),j=(a(60),a(12)),K=a.n(j),V=(a(58),a(11)),J=a.n(V),W=a(0),H=a.n(W),Q=a(1),X=a.n(Q),Y=a(1591),Z=a(1596),$=a(1592),ee=a(1589),te=a(23),ae=(a(1796),a(9)),ne=(a(71),a(5)),se=a.n(ne),le=a(18),re=a(52),oe=(a(724),a(417)),ie=a.n(oe),ce=(a(171),a(89)),de=a.n(ce),ue=(a(193),a(75)),me=a.n(ue),pe=a(33),he=a.n(pe),fe=(a(416),a(192)),ye=a.n(fe),ke=(a(3),a(16)),ge=a.n(ke),Ee=a(99),Se=a(26);function be(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}K.a.Item;var we,ve,Ce,xe=J.a.Option,Re=(n=Object(te.b)("root"),s=Object(te.b)("cabinetDict"),Object(Ee.g)(l=n(l=s(l=Object(te.c)((o=r=function(e){z()(n,e);var t,a=(t=n,function(){var e,a=G()(t);if(be()){var n=G()(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return F()(this,e)});function n(e){var t;return I()(this,n),t=a.call(this,e),P()(D()(t),"onReset",(function(){t.searchFormRef.current.resetFields()})),P()(D()(t),"onClose",(function(){t.setState({showModal:!1})})),P()(D()(t),"selectedRow",(function(e,a){t.props.onSelect(a),t.setState({showModal:!1})})),t.selectedRows=[],t.searchFormRef=H.a.createRef(),t.searchCondition={},t.state={lists:[],loading:!1,showModal:!1,pageNum:1,page_size:20,total:0,pages:0,lists2:[],lists4:[]},t}return N()(n,[{key:"componentDidMount",value:function(){this.onGetMListData(this.state.pageNum,this.state.page_size),this.onGetBrand(),this.onGetSize()}},{key:"onGetMListData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=se.a.assign({},this.searchCondition,t);this.setState({loading:!0}),le.a.get("".concat(BSS_ADMIN_URL,"/api/product/diskmodel"),{params:ae.a.clearNull(a)}).then((function(t){if(t=t.data,ae.a.hasStatusOk(t)){var a=t.data.records;e.setState({lists:a,total:t.data.total,pages:t.data.pages,pageNum:t.data.current})}else ae.a.dealFail(t);e.setState({loading:!1})})).catch((function(){e.setState({loading:!1})}))}},{key:"onGetBrand",value:function(){var e=this;le.a.get("".concat(BSS_ADMIN_URL,"/api/product/diskmodel/diskbrand")).then((function(t){2e4===(t=t.data).code?e.setState({lists2:t.data}):x.a.error(t.data)})).catch((function(){}))}},{key:"onGetSize",value:function(){var e=this;le.a.get("".concat(BSS_ADMIN_URL,"/api/product/diskmodel/disksize")).then((function(t){2e4===(t=t.data).code?e.setState({lists4:t.data}):x.a.error(t.data)})).catch((function(){}))}},{key:"modalShow",value:function(){this.setState({showModal:!0})}},{key:"onSearch",value:function(e){this.searchCondition=e,this.onGetMListData(e)}},{key:"makeColumns",value:function(){return[{title:"型号名称",dataIndex:"diskName",key:"diskName"},{title:"品牌",dataIndex:"diskBrand",key:"diskBrand"},{title:"硬盘大小",dataIndex:"diskSize",key:"diskSize"},{title:"硬盘类型简称",dataIndex:"diskShort",key:"diskShort",render:function(e,t){return Se.k.disk_short[e]}},{title:"规格",dataIndex:"diskMeasure",key:"diskMeasure",render:function(e,t){return Se.k.server_disk_spec[e]}},{title:"接口类型",dataIndex:"interfaceType",key:"interfaceType",render:function(e,t){return Se.k.disk_interface_type[e]}},{title:"规格",dataIndex:"diskMeasure",key:"diskMeasure",render:function(e,t){return Se.k.server_disk_spec[e]||""}},{title:"接口类型",dataIndex:"interfaceType",key:"interfaceType",render:function(e,t){return Se.k.disk_interface_type[e]||""}}]}},{key:"render",value:function(){var e=this,t=this.state,a=t.lists,n=t.showModal,s=t.loading,l=t.total,r=t.page_size,o=t.pageNum,i=t.lists2,c=t.lists4,d=this.props,m=d.operateType,h=(d.disk_type,{current:o,total:l,defaultPageSize:r,onChange:function(t){return e.onGetMListData({page:t})}});return H.a.createElement("main",{className:"mian"},H.a.createElement(B.a,{title:this.props.title||"选择",maskClosable:!1,width:"70%",destroyOnClose:!0,footer:null,onCancel:this.onClose,visible:n},H.a.createElement("div",{className:"g-search"},H.a.createElement(K.a,{ref:this.searchFormRef,name:"horizontal_login",layout:"inline",onFinish:function(t){e.onSearch(t)}},H.a.createElement(K.a.Item,{name:"diskName"},H.a.createElement(f.a,{placeholder:"请输入硬盘名称",allowClear:!0})),H.a.createElement(K.a.Item,{name:"diskShort"},H.a.createElement(J.a,{style:{width:150},allowClear:!0,placeholder:"请选择硬盘简称"},se.a.map(Se.k.disk_short,(function(e,t){return H.a.createElement(xe,{value:t,key:t},e)})))),H.a.createElement(K.a.Item,{name:"diskSize"},H.a.createElement(J.a,{style:{width:240},allowClear:!0,placeholder:"请选择硬盘容量"},c.map((function(e){return H.a.createElement(xe,{key:e},e)})))),H.a.createElement(K.a.Item,{name:"diskBrand"},H.a.createElement(J.a,{style:{width:240},allowClear:!0,placeholder:"请选择硬盘品牌"},i.map((function(e){return H.a.createElement(xe,{key:e},e)})))),H.a.createElement(K.a.Item,{shouldUpdate:!0},H.a.createElement(p.a,{type:"primary",htmlType:"submit"},"搜索")),H.a.createElement(K.a.Item,{shouldUpdate:!0},H.a.createElement(p.a,{type:"primary",htmlType:"reset",onClick:this.onReset},"重置")),H.a.createElement(K.a.Item,{shouldUpdate:!0},H.a.createElement(p.a,{type:"primary",htmlType:"submit",onClick:function(){return e.onGetMListData}},"刷新")))),H.a.createElement("div",{className:"g-table"},H.a.createElement(u.a,{columns:this.makeColumns(),rowKey:function(e){return e.id},loading:s,dataSource:a,pagination:h,size:"small",rowSelection:{type:"radio",onChange:function(t,a){e.selectedRow(t,a)}}}))),H.a.createElement("span",{onClick:function(){e.modalShow()},style:"see"===m?{display:"none"}:{display:"flex"}},this.props.children))}}]),n}(H.a.Component),P()(r,"propTypes",{location:X.a.any,history:X.a.any,match:X.a.any,root:X.a.any,cabinetDict:X.a.any,powers:X.a.array,defaultData:X.a.any,onOk:X.a.func,onClose:X.a.func}),l=o))||l)||l)||l)||l),Ie=a(1604),Te=a(153);function Ne(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var _e,Me,De,Le=K.a.Item,ze=f.a.TextArea,Oe=J.a.Option,Fe=(ye.a.TreeNode,ye.a.SHOW_PARENT,Object(te.b)("root")(we=Object(te.b)("authManage")(we=Object(te.b)("pageUserstore")(we=Object(te.c)((Ce=ve=function(e){z()(n,e);var t,a=(t=n,function(){var e,a=G()(t);if(Ne()){var n=G()(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return F()(this,e)});function n(e){var t;return I()(this,n),t=a.call(this,e),P()(D()(t),"onClose",(function(){t.props.pageUserstore.changeShowmodal("off"),t.setState({value:1})})),P()(D()(t),"onFinish",(function(e){if("see"!==t.props.operateType){if("add"===t.props.operateType&&(e.purchasingTime=t.purchasingTime,e.storageTime=t.storageTime,e.diskModelId=t.id,e.number=parseInt(e.number),t.props.onOk(e)),"up"===t.props.operateType){var a=t.props.nowData.id;e.purchasingTime=t.purchasingTime,!0===t.state.flag?e.diskModelId=t.props.diskModelId:e.diskModelId=t.id,t.props.edit(a,e)}}else t.onClose()})),P()(D()(t),"reset",(function(){t.formRef.current.resetFields()})),P()(D()(t),"onChange",(function(e){1===e&&t.formRef.current.setFieldsValue({customerName:""}),t.setState({value:e})})),P()(D()(t),"onSelect",(function(e){t.formRef.current.setFieldsValue({diskSize:e[0].diskSize,diskModelId:e[0].diskName,diskBrand:e[0].diskBrand}),t.id=e[0].id,t.setState({flag:!1})})),P()(D()(t),"onSelect2",(function(e){t.formRef.current.setFieldsValue({customerName:e[0].name})})),t.formRef=H.a.createRef(),t.purchasingTime=ge()(t.props.nowData.purchasingTime),t.storageTime=ge()().format(),t.state={modalLoading:!1,nowData:null,flag:!0,value:0},t}return N()(n,[{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){this.setState({value:e.nowData.resourceAttribution})}},{key:"getPtime1",value:function(e,t){this.purchasingTime=e.format()}},{key:"getPtime2",value:function(e,t){this.storageTime=t}},{key:"render",value:function(){var e=this,t=this.props,a=t.releaseStatus,n=t.source,s=t.house,l=t.operateType,r=t.nowData,o=t.disk_type,i=t.resource_attribution,c=t.show_type,d=t.sale_status,u=(this.props.root.powers,{labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:16}}}),m=this.props.pageUserstore.showmodal;return H.a.createElement("div",null,H.a.createElement(B.a,{title:{add:"硬盘入库",up:"硬盘修改",see:"查看"}[l],maskClosable:!1,width:"80%",destroyOnClose:!0,visible:m,onCancel:this.onClose,confirmLoading:this.state.modalLoading,footer:null},H.a.createElement(K.a,{name:"form_in_modal",ref:this.formRef,initialValues:r,onFinish:function(t){e.onFinish(t)},className:"g-modal-field"},H.a.createElement(de.a,null,H.a.createElement(me.a,{xs:24,sm:24,md:24,lg:12,xl:12},H.a.createElement(Le,he()({label:"硬盘编号",name:"diskCode"},u,{style:"see"===l?{display:"flex"}:{display:"none"}}),H.a.createElement(f.a,{disabled:"see"===l}))),H.a.createElement(me.a,{xs:24,sm:24,md:24,lg:12,xl:12},H.a.createElement(Le,he()({label:"位置码",name:"houseLocationCode"},u,{style:"see"===l?{display:"flex"}:{display:"none"}}),H.a.createElement(f.a,{disabled:"see"===l})))),H.a.createElement(de.a,null,H.a.createElement(me.a,{xs:24,sm:24,md:24,lg:12,xl:12},H.a.createElement(Le,he()({label:"机房",name:"houseId"},u,{rules:[{required:!0,message:"必填"}]}),H.a.createElement(J.a,{allowClear:!0,placeholder:"请选择机房",disabled:"see"===l||1===r.saleStatus},s.map((function(e){return H.a.createElement(Oe,{value:e.id,key:e.id},e.fullName)}))))),H.a.createElement(me.a,{xs:24,sm:24,md:24,lg:12,xl:12},H.a.createElement(Le,he()({label:"数量",name:"number"},u,{rules:"add"===l?[{required:!0,message:"必填"},{pattern:Te.a.num,message:"请输入数字"},{max:4,message:"最多输入4位字符"}]:null}),H.a.createElement(f.a,{placeholder:"数量",disabled:"see"===l||"up"===l})))),H.a.createElement(de.a,null,H.a.createElement(me.a,{xs:24,sm:24,md:24,lg:12,xl:12},H.a.createElement(Le,he()({label:H.a.createElement("span",{className:"required"},"硬盘型号名称")},u),H.a.createElement(Le,{name:"diskModelId",rules:[{required:!0,message:"必填"}],style:{display:"inline-block"}},H.a.createElement(f.a,{disabled:!0,placeholder:"请选择硬盘型号名称"})),H.a.createElement(p.a,{style:"see"===l?{display:"none"}:{display:"inline-block"},disabled:1===r.saleStatus},H.a.createElement(Re,{operateType:l,disk_type:o,onSelect:this.onSelect},"选择")))),H.a.createElement(me.a,{xs:24,sm:24,md:24,lg:12,xl:12},H.a.createElement(Le,he()({label:"硬盘容量(G)",name:"diskSize"},u,{rules:[{required:!0,message:"必填"}]}),H.a.createElement(f.a,{placeholder:"硬盘容量",disabled:!0})))),H.a.createElement(de.a,null,H.a.createElement(me.a,{xs:24,sm:24,md:24,lg:12,xl:12},H.a.createElement(Le,he()({label:"硬盘品牌",name:"diskBrand"},u,{rules:[{required:!0,message:"必填"}]}),H.a.createElement(f.a,{placeholder:"硬盘品牌",disabled:!0}))),H.a.createElement(me.a,{xs:24,sm:24,md:24,lg:12,xl:12},H.a.createElement(Le,he()({label:H.a.createElement("span",{className:"required"},"采购时间")},u),H.a.createElement(Le,{name:"purchasingTime",rules:[{required:!0,message:"必填"}]},H.a.createElement(ie.a,{onChange:function(t,a){e.getPtime1(t,a)},disabled:"see"===l||"up"===l,style:{display:"flex"}}))))),H.a.createElement(de.a,null,H.a.createElement(me.a,{xs:24,sm:24,md:24,lg:12,xl:12},H.a.createElement(Le,he()({label:"入库时间",name:"storageTime"},u),H.a.createElement("div",null,H.a.createElement(ie.a,{disabled:!0,defaultValue:ge()(r.storageTime),style:{width:"100%"}})))),H.a.createElement(me.a,{xs:24,sm:24,md:24,lg:12,xl:12},H.a.createElement(Le,he()({label:"资源归属",name:"resourceAttribution"},u,{rules:[{required:!0,message:"必填"}]}),H.a.createElement(J.a,{allowClear:!0,placeholder:"请选择资源",disabled:"see"===l||1===r.saleStatus,onChange:this.onChange},_.map(i,(function(e,t){return H.a.createElement(Oe,{key:t,value:parseInt(t)},e)})))))),H.a.createElement(de.a,null,H.a.createElement(me.a,{xs:24,sm:24,md:24,lg:12,xl:12},H.a.createElement(Le,he()({label:"归属方"},u),H.a.createElement(Le,{name:"customerName",style:{display:"inline-block"}},H.a.createElement(f.a,{placeholder:"请选择归属方",disabled:!0})),H.a.createElement(p.a,{style:"see"===l?{display:"none"}:{display:"inline-block"},disabled:1===this.state.value},H.a.createElement(Ie.a,{onSelect:this.onSelect2,operateType:l},"选择")))),H.a.createElement(me.a,{xs:24,sm:24,md:24,lg:12,xl:12},H.a.createElement(Le,he()({label:"显示类型",name:"showType"},u,{rules:[{required:!0,message:"必填"}]}),H.a.createElement(J.a,{allowClear:!0,placeholder:"请选择类型",disabled:"see"===l||1===r.saleStatus},_.map(c,(function(e,t){return H.a.createElement(Oe,{key:t,value:parseInt(t)},e)})))))),H.a.createElement(de.a,null,H.a.createElement(me.a,{xs:24,sm:24,md:24,lg:12,xl:12},H.a.createElement(Le,he()({label:"发布状态",name:"releaseStatus"},u,{rules:[{required:!0,message:"必填"}]}),H.a.createElement(J.a,{allowClear:!0,placeholder:"请选择发布状态",disabled:"see"===l||1===r.saleStatus},_.map(a,(function(e,t){return H.a.createElement(Oe,{value:parseInt(t),key:t},e)}))))),H.a.createElement(me.a,{xs:24,sm:24,md:24,lg:12,xl:12},H.a.createElement(Le,he()({label:"资源状态",name:"saleStatus"},u,{rules:[{required:!0,message:"必填"}]}),H.a.createElement(J.a,{allowClear:!0,placeholder:"请选择类型",disabled:"see"===l||1===r.saleStatus},_.map(d,(function(e,t){return H.a.createElement(Oe,{key:t,value:parseInt(t),style:1===parseInt(t)?{display:"none"}:{display:"block"}},e.text)})))))),H.a.createElement(de.a,null,H.a.createElement(me.a,{xs:24,sm:24,md:24,lg:12,xl:12},H.a.createElement(Le,he()({label:"来源",name:"source"},u,{rules:[{required:!0,message:"必填"}]}),H.a.createElement(J.a,{allowClear:!0,placeholder:"请选择来源",disabled:!0},_.map(n,(function(e,t){return H.a.createElement(Oe,{key:t,value:parseInt(t)},e)}))))),H.a.createElement(me.a,{xs:24,sm:24,md:24,lg:12,xl:12},"see"===l&&H.a.createElement(Le,he()({label:"服务器",name:"serverManagerIp"},u),H.a.createElement(f.a,{disabled:!0,placeholder:"服务器"})))),H.a.createElement(de.a,null,H.a.createElement(me.a,{span:24},H.a.createElement(Le,{label:"备注",name:"remark",rules:[{max:120,message:"字数超出了"}]},H.a.createElement(ze,{placeholder:"请输入备注",disabled:"see"===l,style:{height:"100px"}})))),H.a.createElement(de.a,null,H.a.createElement(me.a,{span:24},H.a.createElement("div",{className:"actions-btn"},H.a.createElement(p.a,{htmlType:"submit",className:"action-btn ok",style:"see"===l?{display:"none"}:{display:"inline-block"}},"提交"),H.a.createElement(p.a,{htmlType:"reset",className:"action-btn ok",onClick:this.reset,style:"see"===l?{display:"none"}:{display:"inline-block"}},"重置"),H.a.createElement(p.a,{onClick:this.onClose,className:"action-btn ok"},"取消")))))))}}]),n}(H.a.Component),P()(ve,"propTypes",{location:X.a.any,history:X.a.any,userinfo:X.a.any,powers:X.a.array}),we=Ce))||we)||we)||we)||we);function qe(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Ge,Ue,Pe,Ae=K.a.Item,Be=f.a.TextArea,je=J.a.Option,Ke=(ye.a.TreeNode,ye.a.SHOW_PARENT,Object(te.b)("root")(_e=Object(te.b)("authManage")(_e=Object(te.b)("pageUserstore")(_e=Object(te.c)((De=Me=function(e){z()(n,e);var t,a=(t=n,function(){var e,a=G()(t);if(qe()){var n=G()(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return F()(this,e)});function n(e){var t;return I()(this,n),t=a.call(this,e),P()(D()(t),"onClose",(function(){t.props.onCancel(),t.setState({value:1})})),P()(D()(t),"onFinish",(function(e){e.storageTime=t.storageTime,!0===t.state.flag?e.diskModelId=t.props.diskModelId:e.diskModelId=t.id,!0===t.state.tFlag?console.log(e.purchasingTime):e.purchasingTime=t.purchasingTime,t.props.onOk(e)})),P()(D()(t),"reset",(function(){t.formRef.current.resetFields()})),P()(D()(t),"onSelect",(function(e){t.formRef.current.setFieldsValue({diskSize:e[0].diskSize,diskModelId:e[0].diskName,diskBrand:e[0].diskBrand}),t.id=e[0].id,t.setState({flag:!1})})),P()(D()(t),"onSelect2",(function(e){t.formRef.current.setFieldsValue({customerName:e[0].name})})),P()(D()(t),"onChange",(function(e){1===e&&t.formRef.current.setFieldsValue({customerName:""}),t.setState({value:e})})),t.formRef=H.a.createRef(),t.purchasingTime="",t.storageTime=ge()().format(),t.state={modalLoading:!1,nowData:null,flag:!0,tFlag:!0,value:0},t}return N()(n,[{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){this.setState({value:e.selectedRows.resourceAttribution})}},{key:"getPtime1",value:function(e,t){this.purchasingTime=e.format(),this.state({tFlag:!1})}},{key:"getPtime2",value:function(e,t){this.storageTime=t}},{key:"render",value:function(){var e=this,t=this.props,a=t.releaseStatus,n=t.source,s=t.house,l=t.title,r=t.visible,o=t.selectedRows,i=t.resource_attribution,c=t.show_type,d=t.disk_type,u=t.sale_status,m=t.operateType,h={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:16}}};return H.a.createElement("div",null,H.a.createElement(B.a,{title:l,maskClosable:!1,width:"80%",destroyOnClose:!0,visible:r,onCancel:this.props.onCancel,footer:null},H.a.createElement(K.a,{name:"form_in_modal",ref:this.formRef,initialValues:o,onFinish:function(t){e.onFinish(t)},className:"g-modal-field"},H.a.createElement(de.a,null,H.a.createElement(me.a,{xs:24,sm:24,md:24,lg:12,xl:12},H.a.createElement(Ae,he()({label:"机房",name:"houseId"},h,{rules:[{required:!0,message:"必填"}]}),H.a.createElement(J.a,{allowClear:!0,placeholder:"请选择机房"},s.map((function(e){return H.a.createElement(je,{value:e.id,key:e.id},e.name)}))))),H.a.createElement(me.a,{xs:24,sm:24,md:24,lg:12,xl:12},H.a.createElement(Ae,he()({label:"数量",name:"number"},h,{rules:[{required:!0,message:"必填"},{max:4,message:"最多输入4位字符"},{pattern:Te.a.num,message:"请输入数字"}]}),H.a.createElement(f.a,{placeholder:"请输入数量"})))),H.a.createElement(de.a,null,H.a.createElement(me.a,{xs:24,sm:24,md:24,lg:12,xl:12},H.a.createElement(Ae,he()({label:H.a.createElement("span",{className:"required"},"硬盘型号名称")},h),H.a.createElement(Ae,{name:"diskModelId",rules:[{required:!0,message:"必填"}],style:{display:"inline-block"}},H.a.createElement(f.a,{disabled:!0,placeholder:"请选择硬盘型号名称"})),H.a.createElement(p.a,null,H.a.createElement(Re,{disk_type:d,onSelect:this.onSelect},"选择")))),H.a.createElement(me.a,{xs:24,sm:24,md:24,lg:12,xl:12},H.a.createElement(Ae,he()({label:"硬盘容量(G)",name:"diskSize"},h,{rules:[{required:!0,message:"必填"}]}),H.a.createElement(f.a,{placeholder:"硬盘容量",disabled:!0})))),H.a.createElement(de.a,null,H.a.createElement(me.a,{xs:24,sm:24,md:24,lg:12,xl:12},H.a.createElement(Ae,he()({label:"硬盘品牌",name:"diskBrand"},h,{rules:[{required:!0,message:"必填"}]}),H.a.createElement(f.a,{placeholder:"硬盘品牌",disabled:!0}))),H.a.createElement(me.a,{xs:24,sm:24,md:24,lg:12,xl:12},H.a.createElement(Ae,he()({label:H.a.createElement("span",{className:"required"},"采购时间")},h),H.a.createElement(Ae,{name:"purchasingTime",rules:[{required:!0,message:"必填"}]},H.a.createElement(ie.a,{onChange:function(t,a){e.getPtime1(t,a)},style:{display:"flex"}}))))),H.a.createElement(de.a,null,H.a.createElement(me.a,{xs:24,sm:24,md:24,lg:12,xl:12},H.a.createElement(Ae,he()({label:"入库时间",name:"storageTime"},h),H.a.createElement("div",null,H.a.createElement(ie.a,{onChange:function(t,a){e.getPtime2(t,a)},defaultValue:ge()(),disabled:!0,style:{width:"100%"}})))),H.a.createElement(me.a,{xs:24,sm:24,md:24,lg:12,xl:12},H.a.createElement(Ae,he()({label:"资源归属",name:"resourceAttribution"},h,{rules:[{required:!0,message:"必填"}]}),H.a.createElement(J.a,{allowClear:!0,placeholder:"请选择资源",onChange:this.onChange},_.map(i,(function(e,t){return H.a.createElement(je,{key:t,value:parseInt(t)},e)})))))),H.a.createElement(de.a,null,H.a.createElement(me.a,{xs:24,sm:24,md:24,lg:12,xl:12},H.a.createElement(Ae,he()({label:"归属方"},h),H.a.createElement(Ae,{name:"customerName",style:{display:"inline-block"}},H.a.createElement(f.a,{placeholder:"请选择归属方",disabled:!0})),H.a.createElement(p.a,{disabled:1===this.state.value},H.a.createElement(Ie.a,{onSelect:this.onSelect2,operateType:m},"选择")))),H.a.createElement(me.a,{xs:24,sm:24,md:24,lg:12,xl:12},H.a.createElement(Ae,he()({label:"显示类型",name:"showType"},h,{rules:[{required:!0,message:"必填"}]}),H.a.createElement(J.a,{allowClear:!0,placeholder:"请选择类型"},_.map(c,(function(e,t){return H.a.createElement(je,{key:t,value:parseInt(t)},e)})))))),H.a.createElement(de.a,null,H.a.createElement(me.a,{xs:24,sm:24,md:24,lg:12,xl:12},H.a.createElement(Ae,he()({label:"发布状态",name:"releaseStatus"},h,{rules:[{required:!0,message:"必填"}]}),H.a.createElement(J.a,{allowClear:!0,placeholder:"请选择发布状态"},_.map(a,(function(e,t){return H.a.createElement(je,{value:parseInt(t),key:t},e)}))))),H.a.createElement(me.a,{xs:24,sm:24,md:24,lg:12,xl:12},H.a.createElement(Ae,he()({label:"资源状态",name:"saleStatus"},h,{rules:[{required:!0,message:"必填"}]}),H.a.createElement(J.a,{allowClear:!0,placeholder:"请选择类型"},_.map(u,(function(e,t){return H.a.createElement(je,{key:t,value:parseInt(t),style:1===parseInt(t)?{display:"none"}:{display:"block"}},e.text)})))))),H.a.createElement(de.a,null,H.a.createElement(me.a,{xs:24,sm:24,md:24,lg:12,xl:12},H.a.createElement(Ae,he()({label:"来源",name:"source"},h,{rules:[{required:!0,message:"必填"}]}),H.a.createElement(J.a,{allowClear:!0,placeholder:"请选择来源",disabled:!0},_.map(n,(function(e,t){return H.a.createElement(je,{key:t,value:parseInt(t)},e)})))))),H.a.createElement(de.a,null,H.a.createElement(me.a,{span:24},H.a.createElement(Ae,{label:"备注",name:"remark",rules:[{max:120,message:"字数超出了"}]},H.a.createElement(Be,{placeholder:"请输入备注",style:{height:"100px"}})))),H.a.createElement(de.a,null,H.a.createElement(me.a,{span:24},H.a.createElement("div",{className:"actions-btn"},H.a.createElement(p.a,{htmlType:"submit",className:"action-btn ok"},"提交"),H.a.createElement(p.a,{htmlType:"reset",className:"action-btn ok",onClick:this.reset},"重置"),H.a.createElement(p.a,{onClick:this.onClose,className:"action-btn ok"},"取消")))))))}}]),n}(H.a.Component),P()(Me,"propTypes",{location:X.a.any,history:X.a.any,userinfo:X.a.any,powers:X.a.array}),_e=De))||_e)||_e)||_e)||_e);function Ve(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Je=J.a.Option,We=(K.a.Item,B.a.confirm);var He=Object(te.b)("root")(Ge=Object(te.b)("serverPartDict")(Ge=Object(te.b)("authManage")(Ge=Object(te.b)("pageUserstore")(Ge=Object(te.b)("areaResouse")(Ge=Object(te.c)((Pe=Ue=function(e){z()(n,e);var t,a=(t=n,function(){var e,a=G()(t);if(Ve()){var n=G()(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return F()(this,e)});function n(e){var t;return I()(this,n),t=a.call(this,e),P()(D()(t),"updateURL",(function(){var e,a,n,s,l=(e={query:t.state.inputValue},a=e.query,n=void 0===a?"":a,(s=new URLSearchParams).set("query",n),s.toString());t.props.history.push("?".concat(l))})),P()(D()(t),"onReset",(function(){t.searchFormRef.current.resetFields()})),P()(D()(t),"onModalOk",(function(e){e.diskSize=parseInt(e.diskSize),le.a.post("".concat(BSS_ADMIN_URL,"/api/product/diskdetail/add"),ae.a.clearEmpty(e)).then((function(e){2e4===(e=e.data).code?(t.onClose(),t.onGetListData({page:1}),x.a.success("添加成功")):ae.a.dealFail(e)})).catch((function(){t.setState({modalLoading:!1})}))})),P()(D()(t),"edit",(function(e,a){a.diskSize=parseInt(a.diskSize),a.version=t.state.version,a.diskName="",le.a.put("".concat(BSS_ADMIN_URL,"/api/product/diskdetail/").concat(e,"/update"),ae.a.clearNull(a)).then((function(e){2e4===(e=e.data).code?(t.onClose(),t.onGetListData({page:1}),x.a.success("修改成功")):ae.a.dealFail(e)})).catch((function(){t.setState({modalLoading:!1})}))})),P()(D()(t),"onClose",(function(){t.props.pageUserstore.changeShowmodal("off")})),P()(D()(t),"onModalClose",(function(){t.props.pageUserstore.changeShowmodal("off")})),P()(D()(t),"onSelectChange",(function(e,a){t.setState({selectedRowKeys:e}),t.selectedRows=a,t.setState({nowData2:{houseId:t.selectedRows[0]&&t.selectedRows[0].houseId,diskModelId:t.selectedRows[0]&&t.selectedRows[0].diskmodelList[0].diskName,diskSize:t.selectedRows[0]&&t.selectedRows[0].diskmodelList[0].diskSize,resourceAttribution:t.selectedRows[0]&&t.selectedRows[0].resourceAttribution,customerName:t.selectedRows[0]&&t.selectedRows[0].customerName,customerId:t.selectedRows[0]&&t.selectedRows[0].customerId,showType:t.selectedRows[0]&&t.selectedRows[0].showType,diskBrand:t.selectedRows[0]&&t.selectedRows[0].diskmodelList[0].diskBrand,purchasingTime:t.selectedRows[0]&&ge()(t.selectedRows[0].purchasingTime),source:1,saleStatus:0},id:t.selectedRows[0]&&t.selectedRows[0].diskModelId})})),P()(D()(t),"showDeleteConfirm",(function(){var e=t.state.selectedRowKeys,a=D()(t);if(e.length<1)return B.a.warning({title:"提示",content:"请选择至少一条数据！",destroyOnClose:!0}),!1;We({title:"你确定要批量出库吗？",icon:H.a.createElement(Y.a,null),okText:"确定",okType:"danger",cancelText:"取消",onOk:function(){a.onDel(e),a.setState({selectedRowKeys:[]})},onCancel:function(){}})})),P()(D()(t),"onTemplateShow",(function(){switch(t.state.selectedRowKeys.length){case 0:B.a.warning({title:"提示",content:"请选择一条数据作为模板！",destroyOnClose:!0});break;case 1:t.setState({TemplateShow:!0});break;default:B.a.warning({title:"提示",content:"只能一次选择一条数据作为模板！",destroyOnClose:!0})}})),P()(D()(t),"handleCancel",(function(){t.setState({TemplateShow:!1})})),P()(D()(t),"handleOk",(function(e){e.diskSize=parseInt(e.diskSize),t.setState({loading:!0}),le.a.post("".concat(BSS_ADMIN_URL,"/api/product/diskdetail/add"),e).then((function(e){t.setState({loading:!1}),2e4===(e=e.data).code?(t.handleCancel(),t.onGetListData({page:1}),x.a.success("添加成功")):ae.a.dealFail(e)})).catch((function(){t.setState({modalLoading:!1})}))})),t.searchFormRef=H.a.createRef(),t.searchCondition={},t.selectedRows=[],t.state={lists:[],operateType:"add",loading:!1,modalShow:!1,modalLoading:!1,nowData:{},pageNum:1,pageSize:20,total:0,nowData2:{},selectedRowKeys:[],TemplateShow:!1,id:"",editId:"",version:0,lists4:[]},t}return N()(n,[{key:"componentDidMount",value:function(){this.onGetListData(this.state.pageNum,this.state.pageSize),this.props.areaResouse.fetchHouse(),this.onGetSize()}},{key:"onGetListData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=se.a.assign({},this.searchCondition,t);this.setState({loading:!0}),le.a.get("".concat(BSS_ADMIN_URL,"/api/product/diskdetail"),{params:ae.a.clearEmpty(a)}).then((function(t){if(t=t.data,ae.a.hasStatusOk(t)){var a=t.data.records;e.setState({lists:a,total:t.data.total,pages:t.data.pages,pageNum:t.data.current,selectedRowKeys:[]})}else ae.a.dealFail(t);e.setState({loading:!1})})).catch((function(){e.setState({loading:!1})}))}},{key:"onGetSize",value:function(){var e=this;le.a.get("".concat(BSS_ADMIN_URL,"/api/product/diskmodel/disksize")).then((function(t){2e4===(t=t.data).code?e.setState({lists4:t.data}):x.a.error(t.data)})).catch((function(){}))}},{key:"makeColumns",value:function(){var e=this;return[{title:"硬盘编号",dataIndex:"diskCode",key:"diskCode"},{title:"硬盘型号名称",dataIndex:"diskName",key:"diskName",render:function(e,t){return t.diskmodelList[0]&&t.diskmodelList[0].diskName||""}},{title:"硬盘容量(G)",dataIndex:"diskSize",key:"diskSize",render:function(e,t){return H.a.createElement(v.a,{color:"#2db7f5"},t.diskmodelList[0]&&t.diskmodelList[0].diskSize)}},{title:"硬盘规格",dataIndex:"diskMeasure",key:"diskMeasure",render:function(e,t){return Se.k.server_disk_spec[t.diskmodelList[0]&&t.diskmodelList[0].diskMeasure]}},{title:"存放机房",dataIndex:"houseName",key:"houseName",render:function(t,a){var n=a.houseId,s=e.props.areaResouse.houseList,l="";return s.forEach((function(e){e.id===n&&(l=e.fullName)})),l}},{title:"采购时间",dataIndex:"purchasingTime",key:"purchasingTime",render:function(e,t){return ae.a.getTime(e)}},{title:"入库时间",dataIndex:"storageTime",key:"storageTime",render:function(e,t){return ae.a.getTime(e)}},{title:"资源归属",dataIndex:"resourceAttribution",key:"resourceAttribution",render:function(e,t){return Se.k.resource_attribution[e]}},{title:"归属方",dataIndex:"customerName",key:"customerName"},{title:"显示类型",dataIndex:"showType",key:"showType",render:function(e,t){return Se.k.show_type[e]}},{title:"发布状态",dataIndex:"releaseStatus",key:"releaseStatus",render:function(e,t){return Se.k.releaseStatus[e]}},{title:"资源状态",dataIndex:"saleStatus",key:"saleStatus",render:function(e,t){return ae.a.renderStatus(Se.k.parts_res_status,e)}},{title:"使用服务器",dataIndex:"serverManagerIp",key:"serverManagerIp"},{title:"来源",dataIndex:"source",key:"source",render:function(e,t){return Se.k.source[e]}},{title:"备注",dataIndex:"remark",key:"remark"},{title:"操作",key:"control",fixed:"right",width:100,render:function(t,a){var n=[],s=re.a.getPermission()||[];s.includes("diskdetail-view")&&n.push(H.a.createElement("span",{key:"0",className:"control-btn green",onClick:function(){return e.onModalShow("see",a)}},H.a.createElement(b.a,{placement:"top",title:"查看"},H.a.createElement(Z.a,null)))),s.includes("diskdetail-edit")&&n.push(H.a.createElement("span",{key:"1",className:"control-btn blue",onClick:function(){return e.onModalShow("up",a)}},H.a.createElement(b.a,{placement:"top",title:"修改"},H.a.createElement($.a,null)))),s.includes("diskdetail-del")&&n.push(H.a.createElement(E.a,{key:"2",title:"确定删除吗?",onConfirm:function(){return e.onDel(a.id)},okText:"确定",cancelText:"取消"},H.a.createElement("span",{className:"control-btn red"},H.a.createElement(b.a,{placement:"top",title:"删除"},H.a.createElement(ee.a,null)))));var l=[];return n.forEach((function(e,t){t&&l.push(H.a.createElement(k.a,{key:"line".concat(t),type:"vertical"})),l.push(e)})),l}}]}},{key:"onSearch",value:function(e){this.searchCondition=e,this.onGetListData(e)}},{key:"onPageChange",value:function(e,t){this.onGetListData({page:e,pageSize:t})}},{key:"onPageSizeChange",value:function(e,t){this.onGetListData({page:e,pageSize:t})}},{key:"onModalShow",value:function(e,t){this.props.pageUserstore.changeShowmodal("on"),"add"!==e?this.setState({modalShow:!0,nowData:{id:t.id||"",houseLocationCode:t.houseLocationCode,customerName:t.customerName,diskModelId:t&&t.diskmodelList[0]&&t.diskmodelList[0].diskName,diskCode:t.diskCode||"",diskShort:t&&t.diskmodelList[0]&&t.diskmodelList[0].diskShort,diskSize:t&&t.diskmodelList[0]&&t.diskmodelList[0].diskSize,diskType:t&&t.diskmodelList[0]&&t.diskmodelList[0].diskType,diskBrand:t&&t.diskmodelList[0]&&t.diskmodelList[0].diskBrand,houseName:t.houseName,purchasingTime:ge()(t.purchasingTime),releaseStatus:t.releaseStatus,remark:t.remark,resourceAttribution:t.resourceAttribution,saleStatus:t.saleStatus,serverManagerIp:t.serverManagerIp,storageTime:t.storageTime,source:t.source,showType:t.showType,houseId:t.houseId},operateType:e,editId:t.diskModelId||"",version:t&&t.version}):this.setState({modalShow:!0,operateType:e,nowData:{saleStatus:0,source:1,resourceAttribution:1}})}},{key:"onDel",value:function(e){var t=this,a={};if("string"==typeof e){var n=[];n.push(e),a={id:n}}else a={id:e};var s=JSON.stringify(a);le.a.delete("".concat(BSS_ADMIN_URL,"/api/product/diskdetail/delete"),{data:s}).then((function(e){2e4===(e=e.data).code?(t.onGetListData({page:1}),x.a.success("出库成功")):(ae.a.dealFail(e),t.setState({loading:!1}))})).catch((function(){t.setState({loading:!1})}))}},{key:"render",value:function(){var e=this,t=(this.props.root.powers,this.state),a=t.loading,n=t.operateType,s=t.lists,l=t.pageNum,r=t.pageSize,o=t.modalShow,i=t.nowData,d=t.total,m=t.selectedRowKeys,h=t.TemplateShow,y=t.nowData2,k=t.lists4,g=Se.k.releaseStatus,E=Se.k.source,S=Se.k.parts_res_status,b=Se.k.show_type,w=Se.k.disk_type,v=Se.k.resource_attribution,C=Se.k.server_disk_spec,x=this.props.areaResouse.houseList,R={selectedRowKeys:m,onChange:this.onSelectChange},I=re.a.getPermission()||[];return H.a.createElement("main",{className:"mian"},H.a.createElement("div",{className:"c-search"},H.a.createElement(K.a,{ref:this.searchFormRef,name:"horizontal_login",layout:"inline",onFinish:function(t){e.onSearch(t)}},H.a.createElement(K.a.Item,{name:"diskName"},H.a.createElement(f.a,{allowClear:!0,placeholder:"请输入硬盘名称"})),H.a.createElement(K.a.Item,{name:"diskSize"},H.a.createElement(J.a,{style:{width:240},allowClear:!0,placeholder:"请选择硬盘容量"},k.map((function(e){return H.a.createElement(Je,{key:e},e)})))),H.a.createElement(K.a.Item,{name:"houseId"},H.a.createElement(J.a,{style:{width:240},allowClear:!0,placeholder:"请选择机房"},x.map((function(e){return H.a.createElement(Je,{value:e.id,key:e.id},e.fullName)})))),H.a.createElement(K.a.Item,{name:"saleStatus"},H.a.createElement(J.a,{style:{width:240},allowClear:!0,placeholder:"请选择资源状态"},se.a.map(S,(function(e,t){return H.a.createElement(Je,{key:t,value:parseInt(t)},e.text)})))),H.a.createElement(K.a.Item,{name:"customerName"},H.a.createElement(f.a,{allowClear:!0,placeholder:"请输入资源归属方名称"})),H.a.createElement(K.a.Item,{name:"diskMeasure"},H.a.createElement(J.a,{style:{width:240},allowClear:!0,placeholder:"请选择硬盘规格"},se.a.map(C,(function(e,t){return H.a.createElement(Je,{key:t,value:parseInt(t)},e)})))),H.a.createElement(K.a.Item,{shouldUpdate:!0},H.a.createElement(p.a,{type:"primary",htmlType:"submit"},"搜索")),H.a.createElement(K.a.Item,{shouldUpdate:!0},H.a.createElement(p.a,{type:"primary",htmlType:"reset",onClick:this.onReset},"重置")))),H.a.createElement("div",{className:"c-operate"},I.includes("diskdetail-add")&&H.a.createElement(p.a,{size:"middle",onClick:function(){e.onModalShow("add",{})},className:"actions-btn"},"入库"),I.includes("diskdetail-add")&&H.a.createElement(p.a,{size:"middle",onClick:this.onTemplateShow,className:"actions-btn"},"模板入库"),I.includes("diskdetail-del")&&H.a.createElement(p.a,{size:"middle",onClick:this.showDeleteConfirm,className:"actions-btn"},"批量出库")),H.a.createElement("div",{className:"g-table"},H.a.createElement(u.a,{columns:this.makeColumns(),rowKey:function(e){return e.id},loading:a,dataSource:s,pagination:!1,rowSelection:R,size:"small"})),H.a.createElement("div",{className:"pagination"},H.a.createElement(c.a,{size:"middle",className:"g-pagination",current:l,total:d,showSizeChanger:!0,showQuickJumper:!0,defaultPageSize:r,showTotal:function(e){return"一共".concat(e,"条数据")},onChange:function(t,a){e.onPageChange(t,a)},onShowSizeChange:function(t,a){e.onPageSizeChange(t,a)}})),H.a.createElement(Fe,{operateType:n,nowData:i,visible:o,updateLists:this.onGetListData,onOk:this.onModalOk,edit:this.edit,onClose:this.onModalClose,releaseStatus:g,source:E,house:x,show_type:b,disk_type:w,resource_attribution:v,sale_status:S,diskModelId:this.state.editId}),H.a.createElement(Ke,{visible:h,text:"模板入库",onOk:this.handleOk,onCancel:this.handleCancel,releaseStatus:g,source:E,house:x,selectedRows:y,show_type:b,disk_type:w,resource_attribution:v,sale_status:S,diskModelId:this.state.id,operateType:n}))}}]),n}(H.a.Component),P()(Ue,"propTypes",{location:X.a.any,history:X.a.any,userinfo:X.a.any,powers:X.a.array}),Ge=Pe))||Ge)||Ge)||Ge)||Ge)||Ge)||Ge},1596:function(e,t,a){"use strict";var n=a(0),s={name:"eye",theme:"outlined",icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]}},l=a(69),r=function(e,t){return n.createElement(l.a,Object.assign({},e,{ref:t,icon:s}))};r.displayName="EyeOutlined";t.a=n.forwardRef(r)},1604:function(e,t,a){"use strict";a(65);var n,s,l,r,o,i=a(25),c=a.n(i),d=(a(152),a(78)),u=a.n(d),m=(a(47),a(17)),p=a.n(m),h=a(15),f=a.n(h),y=a(19),k=a.n(y),g=a(6),E=a.n(g),S=a(20),b=a.n(S),w=a(21),v=a.n(w),C=a(13),x=a.n(C),R=a(2),I=a.n(R),T=(a(416),a(192)),N=a.n(T),_=(a(58),a(11)),M=a.n(_),D=(a(98),a(55)),L=a.n(D),z=(a(60),a(12)),O=a.n(z),F=a(0),q=a.n(F),G=a(1),U=a.n(G),P=a(5),A=a.n(P),B=a(18),j=a(23),K=a(99),V=(a(3),a(28),a(9));function J(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}O.a.Item,L.a.TextArea,M.a.Option,N.a.TreeNode;var W=(n=Object(j.b)("root"),s=Object(j.b)("cabinetDict"),Object(K.g)(l=n(l=s(l=Object(j.c)((o=r=function(e){b()(n,e);var t,a=(t=n,function(){var e,a=x()(t);if(J()){var n=x()(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return v()(this,e)});function n(e){var t;return f()(this,n),t=a.call(this,e),I()(E()(t),"onReset",(function(){t.searchFormRef.current.resetFields()})),I()(E()(t),"onClose",(function(){t.setState({showModal:!1})})),I()(E()(t),"selectedRow",(function(e,a){t.props.onSelect(a),t.setState({showModal:!1})})),t.selectedRows=[],t.searchFormRef=q.a.createRef(),t.searchCondition={},t.state={lists:[],loading:!1,showModal:!1,pageNum:1,page_size:20,total:0,pages:0},t}return k()(n,[{key:"componentDidMount",value:function(){this.onGetMListData(this.state.pageNum,this.state.page_size)}},{key:"onGetMListData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=A.a.assign({},this.searchCondition,t);this.setState({loading:!0}),B.a.get("".concat(BSS_ADMIN_URL,"/api/customer/manage/options"),{params:V.a.clearNull(a)}).then((function(t){if(t=t.data,V.a.hasStatusOk(t)){var a=t.data.records;e.setState({lists:a,total:t.data.total,pages:t.data.pages,pageNum:t.data.current})}else V.a.dealFail(t);e.setState({loading:!1})})).catch((function(){e.setState({loading:!1})}))}},{key:"modalShow",value:function(){this.setState({showModal:!0})}},{key:"onSearch",value:function(e){this.searchCondition=e,this.onGetMListData(e)}},{key:"makeColumns",value:function(){return[{title:"名称",dataIndex:"name",key:"name"},{title:"简称",dataIndex:"account",key:"account"}]}},{key:"render",value:function(){var e=this,t=this.state,a=t.lists,n=t.showModal,s=t.loading,l=t.total,r=t.page_size,o={current:t.pageNum,total:l,defaultPageSize:r,onChange:function(t){return e.onGetMListData({page:t})}},i=this.props.operateType;return q.a.createElement("main",{className:"mian"},q.a.createElement(c.a,{title:this.props.title||"选择",maskClosable:!1,width:"55%",destroyOnClose:!0,footer:null,onCancel:this.onClose,visible:"uw"===this.props.type?this.props.visible:n},q.a.createElement("div",{className:"g-search"},q.a.createElement(O.a,{ref:this.searchFormRef,name:"horizontal_login",layout:"inline",onFinish:function(t){e.onSearch(t)}},q.a.createElement(O.a.Item,{name:"keyword"},q.a.createElement(L.a,{style:{width:150},allowClear:!0,placeholder:"请输入名称"})),q.a.createElement(O.a.Item,{shouldUpdate:!0},q.a.createElement(p.a,{type:"primary",htmlType:"submit"},"搜索")),q.a.createElement(O.a.Item,{shouldUpdate:!0},q.a.createElement(p.a,{type:"primary",htmlType:"reset",onClick:this.onReset},"重置")),q.a.createElement(O.a.Item,{shouldUpdate:!0},q.a.createElement(p.a,{type:"primary",htmlType:"submit",onClick:function(){return e.onGetMListData}},"刷新")))),q.a.createElement("div",{className:"g-table"},q.a.createElement(u.a,{columns:this.makeColumns(),rowKey:function(e){return e.id},loading:s,dataSource:a,pagination:o,size:"small",rowSelection:{type:"radio",onChange:function(t,a){e.selectedRow(t,a)}}}))),q.a.createElement("span",{onClick:function(){e.modalShow()},style:"see"===i?{display:"none"}:{display:"flex"}},this.props.children))}}]),n}(q.a.Component),I()(r,"propTypes",{location:U.a.any,history:U.a.any,match:U.a.any,root:U.a.any,cabinetDict:U.a.any,powers:U.a.array,defaultData:U.a.any,onOk:U.a.func,onClose:U.a.func}),l=o))||l)||l)||l)||l);t.a=W},1796:function(e,t,a){}}]);