(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{1549:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return Ot}));a(172);var n=a(105),r=a.n(n),o=(a(152),a(78)),i=a.n(o),s=(a(47),a(17)),l=a.n(s),c=(a(98),a(55)),d=a.n(c),u=(a(217),a(120)),m=a.n(u),p=(a(60),a(12)),h=a.n(p),f=(a(132),a(35)),y=a.n(f),g=(a(254),a(116)),b=a.n(g),v=(a(173),a(84)),E=a.n(v),S=a(15),w=a.n(S),k=a(19),O=a.n(k),C=a(6),R=a.n(C),I=a(20),D=a.n(I),x=a(21),L=a.n(x),j=a(13),T=a.n(j),P=a(2),N=a.n(P),M=(a(65),a(25)),A=a.n(M),z=(a(58),a(11)),F=a.n(z),q=a(0),K=a.n(q),B=a(1),V=a.n(B),U=a(1591),G=a(1596),J=a(1592),H={name:"ordered-list",theme:"outlined",icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M920 760H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0-568H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM216 712H100c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h72.4v20.5h-35.7c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h35.7V838H100c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h116c2.2 0 4-1.8 4-4V716c0-2.2-1.8-4-4-4zM100 188h38v120c0 2.2 1.8 4 4 4h40c2.2 0 4-1.8 4-4V152c0-4.4-3.6-8-8-8h-78c-2.2 0-4 1.8-4 4v36c0 2.2 1.8 4 4 4zm116 240H100c-2.2 0-4 1.8-4 4v36c0 2.2 1.8 4 4 4h68.4l-70.3 77.7a8.3 8.3 0 00-2.1 5.4V592c0 2.2 1.8 4 4 4h116c2.2 0 4-1.8 4-4v-36c0-2.2-1.8-4-4-4h-68.4l70.3-77.7a8.3 8.3 0 002.1-5.4V432c0-2.2-1.8-4-4-4z"}}]}},W=a(69),Q=function(e,t){return q.createElement(W.a,Object.assign({},e,{ref:t,icon:H}))};Q.displayName="OrderedListOutlined";var X,Y,Z,$=q.forwardRef(Q),ee=a(23),te=(a(1801),a(18)),ae=a(9),ne=a(26),re=(a(171),a(89)),oe=a.n(re),ie=(a(724),a(417)),se=a.n(ie),le=(a(193),a(75)),ce=a.n(le),de=a(33),ue=a.n(de),me=a(5),pe=a.n(me),he=a(16),fe=a.n(he),ye=a(28);function ge(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function be(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(a),!0).forEach((function(t){N()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ge(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ve(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Ee,Se,we,ke=d.a.TextArea,Oe=F.a.Option,Ce=Object(ee.b)("root")(X=Object(ee.b)("areaResouse")(X=Object(ee.b)("CategoryProduct")(X=Object(ee.b)("ipresourceDict")(X=Object(ee.c)((Z=Y=function(e){D()(n,e);var t,a=(t=n,function(){var e,a=T()(t);if(ve()){var n=T()(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return L()(this,e)});function n(e){var t;return w()(this,n),t=a.call(this,e),N()(R()(t),"onResetSearch",(function(){t.formRefEdit.current.resetFields()})),N()(R()(t),"onModalshow",(function(){t.props.areaResouse.vareaList.length<=0&&t.props.areaResouse.fetchVarea(),Object.keys(t.props.ipresourceDict.defenseline).length<=0&&t.props.ipresourceDict.fetchdefenseline(),Object.keys(t.props.ipresourceDict.bandwidthType).length<=0&&t.props.ipresourceDict.fetchbandwidthType(),t.setState({showModal:!0})})),N()(R()(t),"onClose",(function(){t.props.onClose()})),N()(R()(t),"onShowPortModal",(function(){t.setState({showPortModal:!0})})),N()(R()(t),"onClosePort",(function(){t.setState({showPortModal:!1})})),N()(R()(t),"onlocationChange",(function(e){console.log(e),t.setState({regionId:e})})),N()(R()(t),"onCategoryChange",(function(e){console.log(e);var a=e[e.length-1];t.setState({businessType:a});var n=t.state.regionId;te.a.get("".concat(BSS_ADMIN_URL,"/api/goods/bandwidth-type/getBandwidthType?regionId=").concat(n,"&categoryId=").concat(a)).then((function(e){e=e.data,console.log(e),ae.a.hasStatusOk(e)?t.setState({bandwidthType:e.data}):ae.a.dealFail(e),t.setState({loading:!1})})).catch((function(){t.setState({loading:!1})}))})),console.log(e),t.formRefEdit=K.a.createRef(),t.devideDetail=t.props.defaultData,t.state={showModal:!1,modalLoading:!1,uw:null,ubitInfo:{},regionInfo:{},cabinetInfo:{},devideDetail:{},locationCode:void 0,lists2:[],regionId:t.props.defaultData.regionId,businessTypeName:[t.props.defaultData.businessTypeName],bandwidthTypeName:t.props.defaultData.bandwidthTypeName,businessType:t.props.defaultData.businessType,bandwidthType:t.props.defaultData.bandwidthType},t}return O()(n,[{key:"componentDidMount",value:function(){this.getIP(this.props.id)}},{key:"getIP",value:function(e){var t=this;this.setState({modalLoading:!0}),te.a.get("".concat(BSS_ADMIN_URL,"/api/product/ipAddr?id=").concat(e,"&valueType=update")).then((function(e){if(e=e.data,ae.a.hasStatusOk(e)){var a,n=e.data.records[0];t.setState({modalLoading:!1,devideDetail:n,defenseValues:n.defenseValues,regionId:n.regionId});var r=ae.a.getCascaderValues(t.props.CategoryProduct.categoryList,n.businessType,[]);r=r.length>0?pe.a.reverse(r):[],t.formRefEdit.current.setFieldsValue((a={fullLocationName:n.fullLocationName,ipAddr:n.ipAddr,ipSegment:n.ipSegment,ipType:n.ipType,masterProduct:n.masterProduct,businessType:r,isDefense:n.isDefense,defenseType:n.defenseType,defenseLine:n.defenseLine,isShare:n.isShare,bandwidthType:n.bandwidthType,source:n.source,isLock:n.isLock,specialStatus:n.specialStatus,ipSegmentRemark:n.ipSegmentRemark,remark:n.remark},N()(a,"ipSegmentRemark",n.ipSegmentRemark),N()(a,"showType",n.showType),N()(a,"appropriateTypes",n.appropriateTypes),N()(a,"isWall",n.isWall),a))}else 20010==e.code&&(t.props.onClose(),A.a.error({title:"操作失败",content:e.message}),t.setState({modalLoading:!1}))})).catch((function(){t.setState({modalLoading:!1})}))}},{key:"onFinish",value:function(e){var t=be({regionId:this.state.regionId},e,{businessType:pe.a.last(e.businessType),bandwidthType:e.bdtype});console.log(t),this.props.onOk(t)}},{key:"onChange",value:function(e){}},{key:"render",value:function(){var e=this,t=this.props.areaResouse.vareaList,a=this.state,n=a.bandwidthType,r=(a.businessTypeName,a.bandwidthTypeName),o=ne.e.ip_source,i=ne.e.ip_customer_type,s=ne.e.show_type,c=ne.e.ip_type,u=ne.e.ip_res_statusSlect2,p=ne.e.boolean,f=ae.a.getCascaderValues(this.props.CategoryProduct.categoryList,this.props.defaultData.businessType,[]),y=be({},this.props.defaultData,{purchasingTime:null==this.props.defaultData.purchasingTime?null:fe()(this.props.defaultData.purchasingTime),storageTime:null==this.props.defaultData.storageTime?null:fe()(this.props.defaultData.storageTime),businessType:f.length>0?pe.a.reverse(f):[]});return K.a.createElement(K.a.Fragment,null,K.a.createElement(h.a,{name:"form_in_modal",ref:this.formRefEdit,className:"g-modal-field",initialValues:y,onFinish:function(t){e.onFinish(t)}},K.a.createElement(oe.a,null,K.a.createElement(ce.a,{xs:24,sm:24,md:24,lg:12,xl:12},K.a.createElement(h.a.Item,ue()({name:"fullLocationName",label:"机房/区域",placeholder:"请选择机房",rules:[{required:!0,message:"请选择机房"}]},ye.a),K.a.createElement(F.a,{showSearch:!0,filterOption:ae.a.filterOption,allowClear:!0,onChange:this.onlocationChange},t.map((function(e){return K.a.createElement(Oe,{value:e.regionId,key:e.regionId},e.fullLocationName)}))))),K.a.createElement(ce.a,{xs:24,sm:24,md:24,lg:12,xl:12},K.a.createElement(h.a.Item,ue()({label:"所属业务",rules:[{required:!0,message:"请选择所属业务"}],name:"businessType"},ye.a),K.a.createElement(m.a,{options:this.props.CategoryProduct.categoryTreeList,placeholder:"请选择所属业务",fieldNames:{label:"name",value:"id",children:"children"},onChange:this.onCategoryChange}))),K.a.createElement(ce.a,{xs:24,sm:24,md:24,lg:12,xl:12},K.a.createElement(h.a.Item,ue()({name:"bdtype",label:K.a.createElement("span",{className:"required"}," 带宽类型")},ye.a),K.a.createElement(F.a,{defaultValue:r},pe.a.map(n,(function(e,t){return K.a.createElement(Oe,{value:e.id,key:t}," ",e.bandwidthName," ")}))))),K.a.createElement(ce.a,{xs:24,sm:24,md:24,lg:12,xl:12},K.a.createElement(h.a.Item,ue()({name:"source",label:K.a.createElement("span",{className:"required"}," ip来源")},ye.a),K.a.createElement(F.a,{disabled:!0},pe.a.map(o,(function(e,t){return K.a.createElement(Oe,{value:parseInt(t),key:t}," ",e," ")}))))),K.a.createElement(ce.a,{xs:24,sm:24,md:24,lg:12,xl:12},K.a.createElement(h.a.Item,ue()({name:"ipAddr",label:K.a.createElement("span",{className:"required"}," ip名称")},ye.a),K.a.createElement(d.a,{type:"text",disabled:!0}))),K.a.createElement(ce.a,{xs:24,sm:24,md:24,lg:12,xl:12},K.a.createElement(h.a.Item,ue()({name:"ipSegment",label:K.a.createElement("span",{className:"required"}," ip段信息")},ye.a),K.a.createElement(d.a,{type:"text",disabled:!0}))),K.a.createElement(ce.a,{xs:24,sm:24,md:24,lg:12,xl:12},K.a.createElement(h.a.Item,ue()({name:"ipType",label:K.a.createElement("span",{className:"required"}," ip分类")},ye.a),K.a.createElement(F.a,{disabled:!0},pe.a.map(c,(function(e,t){return K.a.createElement(Oe,{value:parseInt(t),key:t}," ",e," ")}))))),K.a.createElement(ce.a,{xs:24,sm:24,md:24,lg:12,xl:12},K.a.createElement(h.a.Item,ue()({name:"appropriateTypes",rules:[{required:!0,message:"请选择客户类型"}]},ye.a,{label:"适用客户类型"}),K.a.createElement(F.a,{placeholder:" ",allowClear:!0},pe.a.map(i,(function(e,t){return K.a.createElement(Oe,{value:parseInt(t),key:t},e)}))))),K.a.createElement(ce.a,{xs:24,sm:24,md:24,lg:12,xl:12},K.a.createElement(h.a.Item,ue()({name:"showType",rules:[{required:!0,message:"请选择显示方式"}]},ye.a,{label:"显示方式"}),K.a.createElement(F.a,{placeholder:" ",allowClear:!0},pe.a.map(s,(function(e,t){return K.a.createElement(Oe,{value:parseInt(t),key:t}," ",e," ")}))))),K.a.createElement(ce.a,{xs:24,sm:24,md:24,lg:12,xl:12},K.a.createElement(h.a.Item,ue()({name:"isWall",rules:[{required:!0,message:"请选择是否过墙"}]},ye.a,{label:"是否过墙"}),K.a.createElement(F.a,{placeholder:" ",allowClear:!0},pe.a.map(p,(function(e,t){return K.a.createElement(Oe,{value:parseInt(t),key:t}," ",e," ")}))))),K.a.createElement(ce.a,{xs:24,sm:24,md:24,lg:12,xl:12},K.a.createElement(h.a.Item,ue()({name:"isLock"},ye.a,{label:K.a.createElement("span",{className:"required"}," 是否锁定")}),K.a.createElement(F.a,{allowClear:!0,defaultValue:"否",disabled:!0},pe.a.map(p,(function(e,t){return K.a.createElement(Oe,{value:parseInt(t),key:t}," ",e," ")}))))),K.a.createElement(ce.a,{xs:24,sm:24,md:24,lg:12,xl:12},K.a.createElement(h.a.Item,ue()({name:"isShare",label:K.a.createElement("span",{className:"required"}," 是否共享")},ye.a),K.a.createElement(F.a,{allowClear:!0,placeholder:" "},pe.a.map(p,(function(e,t){return K.a.createElement(Oe,{value:parseInt(t),key:t},e)}))))),K.a.createElement(ce.a,{xs:24,sm:24,md:24,lg:12,xl:12},K.a.createElement(h.a.Item,ue()({name:"purchasingTime",label:K.a.createElement("span",{className:"required"}," 采购时间")},ye.a),K.a.createElement(se.a,{placeholder:" ",style:{width:"100%"},disabled:!0}))),K.a.createElement(ce.a,{xs:24,sm:24,md:24,lg:12,xl:12},K.a.createElement(h.a.Item,ue()({name:"storageTime",label:K.a.createElement("span",{className:"required"}," 入库时间")},ye.a),K.a.createElement(se.a,{placeholder:" ",style:{width:"100%"},disabled:!0}))),K.a.createElement(ce.a,{xs:24,sm:24,md:24,lg:12,xl:12},K.a.createElement(h.a.Item,ue()({name:"resStatus"},ye.a,{rules:[{required:!0,message:"请选择资源状态"}]},ye.a,{label:"资源状态"}),K.a.createElement(F.a,{allowClear:!0,placeholder:" ",disabled:!0},pe.a.map(u,(function(e,t){return K.a.createElement(Oe,{value:parseInt(t),key:t}," ",e," ")}))))),K.a.createElement(ce.a,{xs:24,sm:24,md:24,lg:24,xl:24},K.a.createElement(h.a.Item,ue()({label:"ip资源备注",name:"ipSegmentRemark"},ye.b),K.a.createElement(ke,{disabled:!0,autoSize:{minRows:5},placeholder:" ",maxLength:"240"}))),K.a.createElement(ce.a,{xs:24,sm:24,md:24,lg:24,xl:24},K.a.createElement(h.a.Item,ue()({label:"ip备注",name:"remark"},ye.b),K.a.createElement(ke,{maxLength:"240",autoSize:{minRows:5},placeholder:"请输入"})))),K.a.createElement("div",{className:"actions-btn"},K.a.createElement(l.a,{htmlType:"submit",className:"action-btn ok"},"确认提交"),K.a.createElement(l.a,{onClick:this.onResetSearch,className:"action-btn ok"},"重置"),K.a.createElement(l.a,{onClick:this.onClose,className:"action-btn ok"},"取消"))))}}]),n}(K.a.Component),N()(Y,"propTypes",{location:V.a.any,history:V.a.any,root:V.a.any,that:V.a.any,children:V.a.any,areaResouse:V.a.any,ipresourceDict:V.a.any,CategoryProduct:V.a.any,powers:V.a.array,onClose:V.a.func,onOK:V.a.func,deviceId:V.a.string,defaultData:V.a.any,id:V.a.any}),X=Z))||X)||X)||X)||X)||X,Re=(a(174),a(107)),Ie=a.n(Re);function De(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var xe,Le,je,Te=h.a.Item,Pe=d.a.TextArea,Ne=F.a.Option,_e=Object(ee.b)("root")(Ee=Object(ee.b)("areaResouse")(Ee=Object(ee.b)("ipresourceDict")(Ee=Object(ee.b)("CategoryProduct")(Ee=Object(ee.c)((we=Se=function(e){D()(n,e);var t,a=(t=n,function(){var e,a=T()(t);if(De()){var n=T()(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return L()(this,e)});function n(e){var t;return w()(this,n),t=a.call(this,e),N()(R()(t),"formRefCheck",K.a.createRef()),N()(R()(t),"onModalShow",(function(){t.getDetail(t.props.deviceId),t.onGetCategory(),Object.keys(t.props.ipresourceDict.defenseline).length<=0&&t.props.ipresourceDict.fetchdefenseline(),Object.keys(t.props.ipresourceDict.bandwidthType).length<=0&&t.props.ipresourceDict.fetchbandwidthType(),t.setState({showModal:!0})})),N()(R()(t),"onClose",(function(){t.setState({showModal:!1})})),t.ports=[],t.state={showModal:!1,modalLoading:!1,devideDetail:{devicePortList:[]},uw:null,ubitInfo:{},regionInfo:{},cabinetInfo:{}},t}return O()(n,[{key:"getDetail",value:function(e){var t=this;this.setState({modalLoading:!0}),te.a.get("".concat(BSS_ADMIN_URL,"/api/product/ipAddr?id=").concat(e)).then((function(e){if(e=e.data,ae.a.hasStatusOk(e)){var a,n=e.data.records[0];t.setState({defenseValues:n.defenseValues});var r=ae.a.getCascaderValues(t.props.CategoryProduct.categoryList,n.businessType,[]);r=r.length>0?pe.a.reverse(r):[],t.formRefCheck.current.setFieldsValue((a={purchasingTime:null==n.purchasingTime?null:fe()(n.purchasingTime),storageTime:null==n.storageTime?null:fe()(n.storageTime),fullLocationName:n.fullLocationName,ipAddr:n.ipAddr,ipSegment:n.ipSegment,ipType:n.ipType,masterProduct:n.masterProduct,businessType:r,isDefense:n.isDefense,defenseType:n.defenseType,defenseLine:n.defenseLine,isShare:n.isShare,bandwidthType:n.bandwidthTypeName,source:n.source,isLock:n.isLock,resStatus:n.resStatus,specialStatus:n.specialStatus,ipSegmentRemark:n.ipSegmentRemark,remark:n.remark},N()(a,"ipSegmentRemark",n.ipSegmentRemark),N()(a,"showType",n.showType),N()(a,"appropriateTypes",n.appropriateTypes),N()(a,"isWall",n.isWall),N()(a,"resStatus",n.resStatus),a)),t.setState({modalLoading:!1,devideDetail:n})}else ae.a.dealFail(e),t.setState({modalLoading:!1})})).catch((function(){t.setState({modalLoading:!1})}))}},{key:"onGetCategory",value:function(){var e=this;te.a.get("".concat(BSS_ADMIN_URL,"/api/goods/category")).then((function(t){if(t=t.data,ae.a.hasStatusOk(t)){var a,n=t.data;a=ae.a.formatTree(n),e.setState({lists2:a})}else ae.a.dealFail(t);e.setState({loading:!1})})).catch((function(){e.setState({loading:!1})}))}},{key:"render",value:function(){var e=this.props.ipresourceDict.bandwidthType,t=ne.e.ip_source,a=ne.e.ip_customer_type,n=ne.e.show_type,r=ne.e.ip_type,o=ne.e.ip_res_status,i=ne.e.boolean,s=this.state,l=s.showModal,c=s.modalLoading;return K.a.createElement(K.a.Fragment,null,K.a.createElement(A.a,{title:"ip详情查看",maskClosable:!1,width:"80%",destroyOnClose:!0,footer:null,onCancel:this.onClose,visible:l},K.a.createElement(Ie.a,{tip:"Loading...",spinning:c},K.a.createElement(h.a,{name:"form_in_modal",ref:this.formRefCheck,className:"g-modal-field"},K.a.createElement(oe.a,null,K.a.createElement(ce.a,{xs:24,sm:24,md:24,lg:12,xl:12},K.a.createElement(Te,ue()({name:"fullLocationName",label:"机房/区域",rules:[{required:!0}]},ye.a),K.a.createElement(d.a,{type:"text",disabled:!0}))),K.a.createElement(ce.a,{xs:24,sm:24,md:24,lg:12,xl:12},K.a.createElement(Te,ue()({name:"businessType",label:K.a.createElement("span",{className:"required"}," 所属业务")},ye.a),K.a.createElement(m.a,{disabled:!0,options:this.props.CategoryProduct.categoryTreeList,placeholder:"请选择所属业务",fieldNames:{label:"name",value:"id",children:"children"}}))),K.a.createElement(ce.a,{xs:24,sm:24,md:24,lg:12,xl:12},K.a.createElement(Te,ue()({name:"bandwidthType",label:K.a.createElement("span",{className:"required"}," 带宽类型")},ye.a),K.a.createElement(F.a,{disabled:!0},pe.a.map(e,(function(e,t){return K.a.createElement(Ne,{value:parseInt(t),key:t}," ",e," ")}))))),K.a.createElement(ce.a,{xs:24,sm:24,md:24,lg:12,xl:12},K.a.createElement(Te,ue()({name:"source",label:K.a.createElement("span",{className:"required"}," ip来源")},ye.a),K.a.createElement(F.a,{disabled:!0},pe.a.map(t,(function(e,t){return K.a.createElement(Ne,{value:parseInt(t),key:t}," ",e," ")}))))),K.a.createElement(ce.a,{xs:24,sm:24,md:24,lg:12,xl:12},K.a.createElement(Te,ue()({name:"ipAddr",label:K.a.createElement("span",{className:"required"}," ip名称")},ye.a),K.a.createElement(d.a,{type:"text",disabled:!0}))),K.a.createElement(ce.a,{xs:24,sm:24,md:24,lg:12,xl:12},K.a.createElement(Te,ue()({name:"ipSegment",label:K.a.createElement("span",{className:"required"}," ip段信息")},ye.a),K.a.createElement(d.a,{type:"text",disabled:!0}))),K.a.createElement(ce.a,{xs:24,sm:24,md:24,lg:12,xl:12},K.a.createElement(Te,ue()({name:"ipType",label:K.a.createElement("span",{className:"required"}," ip分类")},ye.a),K.a.createElement(F.a,{disabled:!0},pe.a.map(r,(function(e,t){return K.a.createElement(Ne,{value:parseInt(t),key:t}," ",e," ")}))))),K.a.createElement(ce.a,{xs:24,sm:24,md:24,lg:12,xl:12},K.a.createElement(h.a.Item,ue()({name:"appropriateTypes",rules:[{required:!0}]},ye.a,{label:"适用客户类型"}),K.a.createElement(F.a,{disabled:!0},pe.a.map(a,(function(e,t){return K.a.createElement(Ne,{value:parseInt(t),key:t}," ",e," ")}))))),K.a.createElement(ce.a,{xs:24,sm:24,md:24,lg:12,xl:12},K.a.createElement(h.a.Item,ue()({name:"showType",rules:[{required:!0}]},ye.a,{label:"显示方式"}),K.a.createElement(F.a,{disabled:!0},pe.a.map(n,(function(e,t){return K.a.createElement(Ne,{value:parseInt(t),key:t}," ",e," ")}))))),K.a.createElement(ce.a,{xs:24,sm:24,md:24,lg:12,xl:12},K.a.createElement(h.a.Item,ue()({name:"isWall",rules:[{required:!0}]},ye.a,{label:"是否过墙"}),K.a.createElement(F.a,{disabled:!0},pe.a.map(i,(function(e,t){return K.a.createElement(Ne,{value:parseInt(t),key:t}," ",e," ")}))))),K.a.createElement(ce.a,{xs:24,sm:24,md:24,lg:12,xl:12},K.a.createElement(h.a.Item,ue()({name:"isLock",rules:[{required:!0}]},ye.a,{label:"是否锁定"}),K.a.createElement(F.a,{disabled:!0},pe.a.map(i,(function(e,t){return K.a.createElement(Ne,{value:parseInt(t),key:t}," ",e," ")}))))),K.a.createElement(ce.a,{xs:24,sm:24,md:24,lg:12,xl:12},K.a.createElement(Te,ue()({name:"isShare",label:K.a.createElement("span",{className:"required"}," 是否共享")},ye.a),K.a.createElement(F.a,{disabled:!0,allowClear:!0,placeholder:" "},pe.a.map(i,(function(e,t){return K.a.createElement(Ne,{value:parseInt(t),key:t},e)}))))),K.a.createElement(ce.a,{xs:24,sm:24,md:24,lg:12,xl:12},K.a.createElement(Te,ue()({name:"purchasingTime",label:K.a.createElement("span",{className:"required"}," 采购时间")},ye.a),K.a.createElement(se.a,{placeholder:" ",style:{width:"100%"},disabled:!0}))),K.a.createElement(ce.a,{xs:24,sm:24,md:24,lg:12,xl:12},K.a.createElement(Te,ue()({name:"storageTime",label:K.a.createElement("span",{className:"required"}," 入库时间")},ye.a),K.a.createElement(se.a,{placeholder:" ",style:{width:"100%"},disabled:!0}))),K.a.createElement(ce.a,{xs:24,sm:24,md:24,lg:12,xl:12},K.a.createElement(Te,ue()({name:"resStatus",label:K.a.createElement("span",{className:"required"}," 资源状态")},ye.a),K.a.createElement(F.a,{disabled:!0},pe.a.map(o,(function(e,t){return K.a.createElement(Ne,{value:parseInt(t),key:t}," ",e.text," ")}))))),K.a.createElement(ce.a,{xs:24,sm:24,md:24,lg:24,xl:24},K.a.createElement(Te,ue()({label:"ip资源备注",name:"ipSegmentRemark"},ye.b),K.a.createElement(Pe,{disabled:!0,maxLength:"240",autoSize:{minRows:5}}))),K.a.createElement(ce.a,{xs:24,sm:24,md:24,lg:24,xl:24},K.a.createElement(Te,ue()({label:"ip备注",name:"remark"},ye.b),K.a.createElement(Pe,{disabled:!0,maxLength:"240",autoSize:{minRows:5}}))))))),K.a.createElement("span",{onClick:this.onModalShow},this.props.children))}}]),n}(K.a.Component),N()(Se,"propTypes",{data:V.a.any,visible:V.a.bool,modalLoading:V.a.bool,location:V.a.any,history:V.a.any,root:V.a.any,that:V.a.any,children:V.a.any,areaResouse:V.a.any,ipresourceDict:V.a.any,CategoryProduct:V.a.any,powers:V.a.array,onClose:V.a.func,onOK:V.a.func,deviceId:V.a.string,defaultData:V.a.any,id:V.a.any}),Ee=we))||Ee)||Ee)||Ee)||Ee)||Ee;function Me(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ae(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var ze,Fe,qe,Ke=Object(ee.b)("root")(xe=Object(ee.c)((je=Le=function(e){D()(n,e);var t,a=(t=n,function(){var e,a=T()(t);if(Ae()){var n=T()(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return L()(this,e)});function n(e){var t;return w()(this,n),t=a.call(this,e),N()(R()(t),"formRefCheck",K.a.createRef()),N()(R()(t),"onModalShow",(function(){t.getDetail(),t.setState({showModal:!0})})),N()(R()(t),"onClose",(function(){t.setState({showModal:!1})})),t.ports=[],t.state={showModal:!1,modalLoading:!1,devideDetail:{devicePortList:[]},uw:null,ubitInfo:{},regionInfo:{},cabinetInfo:{},lists:[],loading:!1,page:1,pageSize:10},t}return O()(n,[{key:"getDetail",value:function(e){var t=this,a=this.props.deviceId,n=pe.a.assign({},{page:this.state.page,pageSize:this.state.pageSize},this.searchParam,function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(a),!0).forEach((function(t){N()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Me(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e));this.setState({loading:!0}),this.setState({modalLoading:!0}),te.a.get("".concat(BSS_ADMIN_URL,"/api/product/ipUseRecord/").concat(a),{params:n}).then((function(e){if(e=e.data,ae.a.hasStatusOk(e)){e.data;t.setState({lists:e.data.records,total:e.data.total})}else ae.a.dealFail(e),t.setState({modalLoading:!1,loading:!1});t.setState({modalLoading:!1,loading:!1})})).catch((function(){t.setState({modalLoading:!1,loading:!1})}))}},{key:"onPageChange",value:function(e,t){this.setState({page:e}),this.getDetail({page:e,pageSize:t})}},{key:"onPageSizeChange",value:function(e,t){this.setState({page:e,pageSize:t}),this.getDetail({page:e,pageSize:t})}},{key:"makeColumns",value:function(){return[{title:"ip名称",dataIndex:"ipAddr",key:"ipAddr"},{title:"服务器",dataIndex:"serverManageIp",key:"serverManageIp"},{title:"使用周期",dataIndex:"startEnd",key:"startEnd"},{title:"客户",dataIndex:"customerName",key:"customerName"}]}},{key:"render",value:function(){var e=this,t=this.state,a=t.showModal,n=t.loading,o=t.lists,s=t.page,c=t.pageSize,d=t.total;return K.a.createElement(K.a.Fragment,null,K.a.createElement(A.a,{title:"使用记录",maskClosable:!1,width:"80%",destroyOnClose:!0,footer:null,onCancel:this.onClose,visible:a},K.a.createElement("div",{className:"g-table"},K.a.createElement(i.a,{columns:this.makeColumns(),rowKey:function(e){return e.id},loading:n,dataSource:o,pagination:!1}),K.a.createElement("div",{className:"g-pagination"},K.a.createElement(r.a,{current:s,total:d,pageSize:c,showSizeChanger:!0,showQuickJumper:!0,showTotal:function(e){return"共 ".concat(e," 条")},onChange:function(t,a){e.onPageChange(t,a)},onShowSizeChange:function(t,a){e.onPageSizeChange(t,a)}}))),K.a.createElement("div",{className:"actions-btn"},K.a.createElement(l.a,{onClick:this.onClose,className:"action-btn ok"},"关闭"))),K.a.createElement("span",{onClick:this.onModalShow},this.props.children))}}]),n}(K.a.Component),N()(Le,"propTypes",{data:V.a.any,visible:V.a.bool,modalLoading:V.a.bool,location:V.a.any,history:V.a.any,root:V.a.any,that:V.a.any,children:V.a.any,areaResouse:V.a.any,ipresourceDict:V.a.any,powers:V.a.array,onClose:V.a.func,onOK:V.a.func,deviceId:V.a.string,defaultData:V.a.any,id:V.a.any}),xe=je))||xe)||xe;function Be(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ve(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Ue,Ge,Je,He=d.a.TextArea,We=F.a.Option,Qe=Object(ee.b)("root")(ze=Object(ee.b)("ipresourceDict")(ze=Object(ee.c)((qe=Fe=function(e){D()(n,e);var t,a=(t=n,function(){var e,a=T()(t);if(Ve()){var n=T()(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return L()(this,e)});function n(e){var t;return w()(this,n),t=a.call(this,e),N()(R()(t),"formRefCheck",K.a.createRef()),N()(R()(t),"onClose",(function(){t.props.onClose()})),console.log(e),t.ports=[],t.state={showModal:!1,modalLoading:!1,devideDetail:{devicePortList:[]},uw:null,ubitInfo:{},regionInfo:{},cabinetInfo:{},lists:[{id:"0"},{id:"1"},{id:"3"},{id:"4"},{id:"5"},{id:"6"},{id:"7"},{id:"8"},{id:"9"}],loading:!1,page:1,pageSize:10,total:10,ipstr:""},t}return O()(n,[{key:"componentDidMount",value:function(){var e=this.props.iparr.join(",");this.formRefCheck.current.setFieldsValue({ipname:e}),Object.keys(this.props.ipresourceDict.specialStatus).length<=0&&this.props.ipresourceDict.fetchspecialStatus()}},{key:"onFinish",value:function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(a),!0).forEach((function(t){N()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Be(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({id:this.props.ipId},e);this.props.onSubmit(t)}},{key:"render",value:function(){var e=this,t=ne.e.blank_status;return K.a.createElement(K.a.Fragment,null,K.a.createElement(h.a,{name:"form_in_modal",ref:this.formRefCheck,className:"g-modal-field",onFinish:function(t){e.onFinish(t)}},K.a.createElement(oe.a,null,K.a.createElement(ce.a,{xs:24,sm:24,md:24,lg:24,xl:24},K.a.createElement(h.a.Item,ue()({name:"ipname",label:"ip名称",rules:[{required:!0}]},ye.b),K.a.createElement(d.a,{disabled:!0,type:"text"}))),K.a.createElement(ce.a,{xs:24,sm:24,md:24,lg:24,xl:24},K.a.createElement(h.a.Item,ue()({name:"specialStatus",rules:[{required:!0,message:"请选择特殊状态"}],label:"特殊状态"},ye.b),K.a.createElement(F.a,{placeholder:"请选择特殊状态"},pe.a.map(t,(function(e,t){return K.a.createElement(We,{value:parseInt(t),key:t}," ",e," ")}))))),K.a.createElement(ce.a,{xs:24,sm:24,md:24,lg:24,xl:24},K.a.createElement(h.a.Item,ue()({label:"黑名单备注",name:"remark",rules:[{required:!0,message:"请输入备注"}]},ye.b),K.a.createElement(He,{maxLength:"240",autoSize:{minRows:5},placeholder:"请输入"})))),K.a.createElement("div",{className:"actions-btn"},K.a.createElement(l.a,{htmlType:"submit",className:"action-btn ok"},"确认提交"),K.a.createElement(l.a,{onClick:this.onClose,className:"action-btn ok"},"取消"))))}}]),n}(K.a.Component),N()(Fe,"propTypes",{location:V.a.any,history:V.a.any,root:V.a.any,that:V.a.any,children:V.a.any,areaResouse:V.a.any,ipresourceDict:V.a.any,powers:V.a.array,onClose:V.a.func,onOK:V.a.func,deviceId:V.a.string,defaultData:V.a.any,id:V.a.any,ipid:V.a.any,iparr:V.a.any,onSubmit:V.a.any}),ze=qe))||ze)||ze)||ze;function Xe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ye(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}h.a.Item;var Ze,$e,et,tt=d.a.TextArea,at=F.a.Option,nt=Object(ee.b)("root")(Ue=Object(ee.b)("ipresourceDict")(Ue=Object(ee.c)((Je=Ge=function(e){D()(n,e);var t,a=(t=n,function(){var e,a=T()(t);if(Ye()){var n=T()(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return L()(this,e)});function n(e){var t;return w()(this,n),t=a.call(this,e),N()(R()(t),"formRefCheck",K.a.createRef()),N()(R()(t),"onClose",(function(){t.props.onClose()})),console.log(e),t.ports=[],t.state={showModal:!1,modalLoading:!1,devideDetail:{devicePortList:[]},uw:null,ubitInfo:{},regionInfo:{},cabinetInfo:{},lists:[{id:"0"},{id:"1"},{id:"3"},{id:"4"},{id:"5"},{id:"6"},{id:"7"},{id:"8"},{id:"9"}],loading:!1,page:1,pageSize:10,total:10,ipstr:""},t}return O()(n,[{key:"componentDidMount",value:function(){var e=this.props.iparr.join(",");this.formRefCheck.current.setFieldsValue({ipname:e}),Object.keys(this.props.ipresourceDict.specialStatus).length<=0&&this.props.ipresourceDict.fetchspecialStatus()}},{key:"onFinish",value:function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(a),!0).forEach((function(t){N()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Xe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({id:this.props.ipId},e);this.props.onSubmit(t)}},{key:"render",value:function(){var e=this,t=ne.e.removeBlank_status;return K.a.createElement(K.a.Fragment,null,K.a.createElement(h.a,{name:"form_in_modal",ref:this.formRefCheck,className:"g-modal-field",onFinish:function(t){e.onFinish(t)}},K.a.createElement(oe.a,null,K.a.createElement(ce.a,{xs:24,sm:24,md:24,lg:24,xl:24},K.a.createElement(h.a.Item,ue()({name:"ipname",label:"ip名称",rules:[{required:!0}]},ye.b),K.a.createElement(d.a,{disabled:!0,type:"text"}))),K.a.createElement(ce.a,{xs:24,sm:24,md:24,lg:24,xl:24},K.a.createElement(h.a.Item,ue()({name:"specialStatus",rules:[{required:!0,message:"请选择特殊状态"}],label:"特殊状态"},ye.b),K.a.createElement(F.a,{placeholder:"请选择特殊状态"},pe.a.map(t,(function(e,t){return K.a.createElement(at,{value:parseInt(t),key:t}," ",e," ")}))))),K.a.createElement(ce.a,{xs:24,sm:24,md:24,lg:24,xl:24},K.a.createElement(h.a.Item,ue()({label:"黑名单备注",name:"remark",rules:[{required:!0,message:"请输入备注"}]},ye.b),K.a.createElement(tt,{maxLength:"240",autoSize:{minRows:5},placeholder:"请输入"})))),K.a.createElement("div",{className:"actions-btn"},K.a.createElement(l.a,{htmlType:"submit",className:"action-btn ok"},"确认提交"),K.a.createElement(l.a,{onClick:this.onClose,className:"action-btn ok"},"取消"))))}}]),n}(K.a.Component),N()(Ge,"propTypes",{location:V.a.any,history:V.a.any,root:V.a.any,that:V.a.any,children:V.a.any,areaResouse:V.a.any,ipresourceDict:V.a.any,powers:V.a.array,onClose:V.a.func,onOK:V.a.func,deviceId:V.a.string,defaultData:V.a.any,id:V.a.any,ipid:V.a.any,iparr:V.a.any,onSubmit:V.a.any}),Ue=Je))||Ue)||Ue)||Ue;function rt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ot(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var it,st,lt,ct=d.a.TextArea,dt=Object(ee.b)("root")(Ze=Object(ee.b)("ipresourceDict")(Ze=Object(ee.c)((et=$e=function(e){D()(n,e);var t,a=(t=n,function(){var e,a=T()(t);if(ot()){var n=T()(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return L()(this,e)});function n(e){var t;return w()(this,n),t=a.call(this,e),N()(R()(t),"formRefCheck",K.a.createRef()),N()(R()(t),"onClose",(function(){t.props.onClose()})),console.log(e),t.ports=[],t.state={showModal:!1,modalLoading:!1,devideDetail:{devicePortList:[]},uw:null,ubitInfo:{},regionInfo:{},cabinetInfo:{},lists:[{id:"0"},{id:"1"},{id:"3"},{id:"4"},{id:"5"},{id:"6"},{id:"7"},{id:"8"},{id:"9"}],loading:!1,page:1,pageSize:10,total:10,ipstr:""},t}return O()(n,[{key:"componentDidMount",value:function(){var e=this.props.iparr.join(",");this.formRefCheck.current.setFieldsValue({ipname:e}),Object.keys(this.props.ipresourceDict.specialStatus).length<=0&&this.props.ipresourceDict.fetchspecialStatus()}},{key:"onFinish",value:function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(a),!0).forEach((function(t){N()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):rt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({id:this.props.ipId,status:"keep"},e);this.props.onSubmit(t)}},{key:"render",value:function(){var e=this;return K.a.createElement(K.a.Fragment,null,K.a.createElement(h.a,{name:"form_in_modal",ref:this.formRefCheck,className:"g-modal-field",onFinish:function(t){e.onFinish(t)}},K.a.createElement(oe.a,null,K.a.createElement(ce.a,{xs:24,sm:24,md:24,lg:24,xl:24},K.a.createElement(h.a.Item,ue()({label:"备注",name:"remark"},ye.b),K.a.createElement(ct,{maxLength:"240",autoSize:{minRows:5},placeholder:"请输入"})))),K.a.createElement("div",{className:"actions-btn"},K.a.createElement(l.a,{htmlType:"submit",className:"action-btn ok"},"确认提交"),K.a.createElement(l.a,{onClick:this.onClose,className:"action-btn ok"},"取消"))))}}]),n}(K.a.Component),N()($e,"propTypes",{location:V.a.any,history:V.a.any,root:V.a.any,that:V.a.any,children:V.a.any,areaResouse:V.a.any,ipresourceDict:V.a.any,powers:V.a.array,onClose:V.a.func,onOK:V.a.func,deviceId:V.a.string,defaultData:V.a.any,id:V.a.any,ipid:V.a.any,iparr:V.a.any,onSubmit:V.a.any}),Ze=et))||Ze)||Ze)||Ze;function ut(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function mt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var pt,ht,ft,yt=d.a.TextArea,gt=Object(ee.b)("root")(it=Object(ee.b)("ipresourceDict")(it=Object(ee.c)((lt=st=function(e){D()(n,e);var t,a=(t=n,function(){var e,a=T()(t);if(mt()){var n=T()(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return L()(this,e)});function n(e){var t;return w()(this,n),t=a.call(this,e),N()(R()(t),"formRefCheck",K.a.createRef()),N()(R()(t),"onClose",(function(){t.props.onClose()})),console.log(e),t.ports=[],t.state={showModal:!1,modalLoading:!1,devideDetail:{devicePortList:[]},uw:null,ubitInfo:{},regionInfo:{},cabinetInfo:{},lists:[{id:"0"},{id:"1"},{id:"3"},{id:"4"},{id:"5"},{id:"6"},{id:"7"},{id:"8"},{id:"9"}],loading:!1,page:1,pageSize:10,total:10,ipstr:""},t}return O()(n,[{key:"componentDidMount",value:function(){var e=this.props.iparr.join(",");this.formRefCheck.current.setFieldsValue({ipname:e}),Object.keys(this.props.ipresourceDict.specialStatus).length<=0&&this.props.ipresourceDict.fetchspecialStatus()}},{key:"onFinish",value:function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(a),!0).forEach((function(t){N()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ut(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({id:this.props.ipId,status:"cancelKeep"},e);this.props.onSubmit(t)}},{key:"render",value:function(){var e=this;return K.a.createElement(K.a.Fragment,null,K.a.createElement(h.a,{name:"form_in_modal",ref:this.formRefCheck,className:"g-modal-field",onFinish:function(t){e.onFinish(t)}},K.a.createElement(oe.a,null,K.a.createElement(ce.a,{xs:24,sm:24,md:24,lg:24,xl:24},K.a.createElement(h.a.Item,ue()({label:"备注",name:"remark"},ye.b),K.a.createElement(yt,{maxLength:"240",autoSize:{minRows:5},placeholder:"请输入"})))),K.a.createElement("div",{className:"actions-btn"},K.a.createElement(l.a,{htmlType:"submit",className:"action-btn ok"},"确认提交"),K.a.createElement(l.a,{onClick:this.onClose,className:"action-btn ok"},"取消"))))}}]),n}(K.a.Component),N()(st,"propTypes",{location:V.a.any,history:V.a.any,root:V.a.any,that:V.a.any,children:V.a.any,areaResouse:V.a.any,ipresourceDict:V.a.any,powers:V.a.array,onClose:V.a.func,onOK:V.a.func,deviceId:V.a.string,defaultData:V.a.any,id:V.a.any,ipid:V.a.any,iparr:V.a.any,onSubmit:V.a.any}),it=lt))||it)||it)||it,bt=a(52);function vt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Et(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(a),!0).forEach((function(t){N()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):vt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function St(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var wt=F.a.Option,kt=A.a.confirm,Ot=Object(ee.b)("root")(pt=Object(ee.b)("areaResouse")(pt=Object(ee.b)("ipresourceDict")(pt=Object(ee.b)("CategoryProduct")(pt=Object(ee.c)((ft=ht=function(e){D()(n,e);var t,a=(t=n,function(){var e,a=T()(t);if(St()){var n=T()(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return L()(this,e)});function n(e){var t,r;return w()(this,n),r=a.call(this,e),N()(R()(r),"searchFormRef",K.a.createRef()),N()(R()(r),"onResetSearch",(function(){r.searchFormRef.current.resetFields()})),N()(R()(r),"onCategoryChange",(function(e){console.log(e),r.categoryId=e[e.length-1],console.log(r.categoryId)})),N()(R()(r),"onModalShow",(function(e){r.searchParam={},r.setState({modalShow:!0,nowipId:e.id,nowData:e})})),N()(R()(r),"onModalClose",(function(){r.setState({modalShow:!1,AddblackmodalShow:!1,RemoveblackmodalShow:!1,RetainmodalShow:!1,cancelRetainShow:!1})})),N()(R()(r),"showDeleteConfirm",(function(){var e=r.state.selectedRowKeys,t=R()(r);if(e.length<1)return A.a.warning({title:"提示",content:"请选择至少一条数据！",destroyOnClose:!0}),!1;kt({title:"你确定要批量出库吗？",icon:K.a.createElement(U.a,null),okText:"确定",okType:"danger",cancelText:"取消",onOk:function(){console.log("OK"),t.onDel(e),t.setState({selectedRowKeys:[]})},onCancel:function(){console.log("Cancel")}})})),N()(R()(r),"showAddConfirm",(function(){var e=r.state.selectedRowKeys,t=R()(r);if(e.length<1)return A.a.warning({title:"提示",content:"请选择至少一条数据！",destroyOnClose:!0}),!1;t.onAdd(e),t.setState({selectedRowKeys:[]})})),N()(R()(r),"showRemoveConfirm",(function(){var e=r.state.selectedRowKeys,t=R()(r);if(e.length<1)return A.a.warning({title:"提示",content:"请选择至少一条数据！",destroyOnClose:!0}),!1;t.onRemove(e),t.setState({selectedRowKeys:[]})})),N()(R()(r),"showRetainfirm",(function(){var e=r.state.selectedRowKeys,t=R()(r);if(e.length<1)return A.a.warning({title:"提示",content:"请选择至少一条数据！",destroyOnClose:!0}),!1;t.onRetain(e),t.setState({selectedRowKeys:[]})})),N()(R()(r),"cancelRetainfirm",(function(){var e=r.state.selectedRowKeys,t=R()(r);if(e.length<1)return A.a.warning({title:"提示",content:"请选择至少一条数据！",destroyOnClose:!0}),!1;t.cancelRetain(e),t.setState({selectedRowKeys:[]})})),console.log(e),r.hardSearch={},r.searchParam={},r.locationId=void 0,r.state=(t={searchParam:{},lists:[],areaList:[],loading:!1,page:1,pageSize:20,total:null,operateType:"add",modalShow:!1,modalLoading:!1,nowData:{},nowDataRegion:{},operateTypeRegion:"add"},N()(t,"modalShow",!1),N()(t,"nowipId",void 0),N()(t,"expandedRowKeys",[]),N()(t,"selectedRowKeys",[]),N()(t,"AddblackmodalShow",!1),N()(t,"RemoveblackmodalShow",!1),N()(t,"RetainmodalShow",!1),N()(t,"cancelRetainShow",!1),N()(t,"lists2",[]),t),r}return O()(n,[{key:"componentDidMount",value:function(){this.props.areaResouse.houseList.length<=0&&this.props.areaResouse.fetchHouse(),this.props.areaResouse.vareaList.length<=0&&this.props.areaResouse.fetchVarea(),Object.keys(this.props.ipresourceDict.bandwidthType).length<=0&&this.props.ipresourceDict.fetchbandwidthType(),this.props.CategoryProduct.fetchCategory(),this.onGetListData()}},{key:"onSelectHouse",value:function(e,t){this.onGetListData(t)}},{key:"onSelectRegion",value:function(e,t){this.onGetListData(t)}},{key:"onSearchfrom",value:function(e){console.log(e),e.businessType=this.categoryId;var t=e.ipAddr;null!=e.ipAddr&&(-1!=t.indexOf("[")?e.ipAddr="%5D":-1!=t.indexOf("[")&&(e.ipAddr="%5B")),this.searchParam=e,this.onGetListData(e)}},{key:"onGetListData",value:function(e){var t=this;e=e||this.state.regionInfo;var a=_.assign({},{page:1},this.searchParam,Et({},e));this.setState({loading:!0}),te.a.get("".concat(BSS_ADMIN_URL,"/api/product/ipAddr"),{params:a}).then((function(e){e=e.data,ae.a.hasStatusOk(e)?t.setState({lists:e.data.records,total:e.data.total,page:e.data.current,selectedRowKeys:[],selectedRows:[]}):ae.a.dealFail(e),t.setState({loading:!1})})).catch((function(){t.setState({loading:!1})}))}},{key:"onSelectedRow",value:function(e,t){this.selectedRows=t,this.setState({selectedRowKeys:e});for(var a=[],n=0;n<t.length;n++){var r=t[n].ipAddr;a.push(r)}this.setState({iparr:a,ipId:e.join(",")})}},{key:"onPageChange",value:function(e,t){this.setState({page:e}),this.onGetListData({page:e,pageSize:t})}},{key:"onPageSizeChange",value:function(e,t){this.setState({page:e,pageSize:t}),this.onGetListData({page:e,pageSize:t})}},{key:"onModalOk",value:function(e){var t=this.that;t.setState({modalLoading:!0});var a=ae.a.clearNull(Et({id:this.id},e));te.a.put("".concat(BSS_ADMIN_URL,"/api/product/ipAddr/").concat(this.id,"/update"),a).then((function(e){e=e.data,ae.a.hasStatusOk(e)?(ae.a.auto_close_result("ok","操作成功"),t.setState({page:1,modalLoading:!1,modalShow:!1}),t.onGetListData({page:1})):ae.a.dealFail(e),t.setState({modalLoading:!1})})).catch((function(){t.setState({modalLoading:!1})}))}},{key:"onAddBlack",value:function(e){var t=this,a=this.that,n=JSON.stringify(e);a.setState({modalLoading:!0}),te.a.put("".concat(BSS_ADMIN_URL,"/api/product/ipAddr/addBlack"),n).then((function(e){e=e.data,ae.a.hasStatusOk(e)?(t.onClose(),a.setState({modalLoading:!1,modalShow:!1}),a.onGetListData(),ae.a.auto_close_result("ok","操作成功")):ae.a.dealFail(e),a.setState({modalLoading:!1})})).catch((function(){a.setState({modalLoading:!1})}))}},{key:"onRemoveBlack",value:function(e){var t=this,a=this.that,n=JSON.stringify(e);a.setState({modalLoading:!0}),te.a.put("".concat(BSS_ADMIN_URL,"/api/product/ipAddr/cancelBlack"),n).then((function(e){2e4===(e=e.data).code?(t.onClose(),a.setState({modalLoading:!1,modalShow:!1}),a.onGetListData(),ae.a.auto_close_result("ok","操作成功")):ae.a.dealFail(e),a.setState({modalLoading:!1})})).catch((function(){a.setState({modalLoading:!1})}))}},{key:"onRetainIp",value:function(e){var t=this,a=this.that,n=JSON.stringify(e);a.setState({modalLoading:!0}),te.a.put("".concat(BSS_ADMIN_URL,"/api/product/ipAddr/ipKeep"),n).then((function(e){2e4===(e=e.data).code?(t.onClose(),a.setState({modalLoading:!1,modalShow:!1}),a.onGetListData(),ae.a.auto_close_result("ok","操作成功")):ae.a.dealFail(e),a.setState({modalLoading:!1})})).catch((function(){a.setState({modalLoading:!1})}))}},{key:"onCancelRetainIp",value:function(e){var t=this,a=this.that,n=JSON.stringify(e);a.setState({modalLoading:!0}),te.a.put("".concat(BSS_ADMIN_URL,"/api/product/ipAddr/ipKeep"),n).then((function(e){2e4===(e=e.data).code?(t.onClose(),a.setState({modalLoading:!1,modalShow:!1}),a.onGetListData(),ae.a.auto_close_result("ok","操作成功")):ae.a.dealFail(e),a.setState({modalLoading:!1})})).catch((function(){t.setState({modalLoading:!1})}))}},{key:"makeColumns",value:function(){var e=this,t=(ne.e.is_lock,ne.e.ip_type),a=ne.e.ip_res_status,n=ne.e.special_status,r=ne.e.boolean;return[{title:"机房/区域",dataIndex:"fullLocationName",key:"fullLocationName"},{title:"ip名称",dataIndex:"ipAddr",key:"ipAddr"},{title:"ip段信息",dataIndex:"ipSegment",key:"ipSegment"},{title:"ip分类",dataIndex:"ipType",key:"ipType",render:function(e,a){return t[e]}},{title:"所属业务",dataIndex:"businessTypeName",key:"businessTypeName"},{title:"带宽类型",dataIndex:"bandwidthTypeName",key:"bandwidthTypeName"},{title:"锁定状态",dataIndex:"isLock",key:"isLock",render:function(e,t){return r[e]}},{title:"资源状态",dataIndex:"resStatus",key:"resStatus",render:function(e,t){return ae.a.renderStatus(a,e)}},{title:"特殊状态",dataIndex:"specialStatus",key:"specialStatus",render:function(e,t){return n[e]}},{title:"ip资源备注",dataIndex:"ipSegmentRemark",key:"ipSegmentRemark"},{title:"ip备注",dataIndex:"remark",key:"remark"},{title:"操作",key:"control",fixed:"right",width:120,render:function(t,a){var n=[];e.props.root.userinfo,e.props.root.powers;n.push(K.a.createElement("span",{key:"0",className:"control-btn green"},bt.a.hasPermission("ipAddr-view")&&K.a.createElement(_e,{deviceId:a.id},K.a.createElement(E.a,{placement:"top",title:"查看"},K.a.createElement(G.a,null))))),n.push(K.a.createElement("span",{key:"1",className:"control-btn blue"},bt.a.hasPermission("ipAddr-edit")&&K.a.createElement(E.a,{placement:"top",title:"修改"},K.a.createElement(J.a,{onClick:function(){e.onModalShow(a)}})))),n.push(K.a.createElement("span",{key:"2",className:"control-btn red"},bt.a.hasPermission("ipUseRecord-view")&&K.a.createElement(Ke,{deviceId:a.id},K.a.createElement(E.a,{placement:"top",title:"使用记录"},K.a.createElement($,null)))));var r=[];return n.forEach((function(e,t){t&&r.push(K.a.createElement(b.a,{key:"line".concat(t),type:"vertical"})),r.push(e)})),r}}]}},{key:"onDel",value:function(e){var t=this;if("string"==typeof e){var a=[];a.push(e);var n={id:a}}else n={id:e};this.setState({loading:!0});var r=JSON.stringify(n);te.a.delete("".concat(BSS_ADMIN_URL,"/api/product/ipAddr/delete"),{data:r}).then((function(e){2e4===(e=e.data).code?(t.setState({loading:!1}),t.onGetListData(),ae.a.auto_close_result("ok","操作成功")):(y.a.error(e.message),t.setState({loading:!1}))})).catch((function(){t.setState({loading:!1})}))}},{key:"onAdd",value:function(e){if("string"==typeof e){var t=[];t.push(e);var a={id:t}}else a={id:e};JSON.stringify(a);this.setState({AddblackmodalShow:!0})}},{key:"onRemove",value:function(e){if("string"==typeof e){var t=[];t.push(e);var a={id:t}}else a={id:e};JSON.stringify(a);this.setState({RemoveblackmodalShow:!0})}},{key:"onRetain",value:function(e){if("string"==typeof e){var t=[];t.push(e);var a={id:t}}else a={id:e};JSON.stringify(a);this.setState({RetainmodalShow:!0})}},{key:"cancelRetain",value:function(e){if("string"==typeof e){var t=[];t.push(e);var a={id:t}}else a={id:e};JSON.stringify(a);this.setState({cancelRetainShow:!0})}},{key:"onGetCategory",value:function(){var e=this;te.a.get("".concat(BSS_ADMIN_URL,"/api/goods/category")).then((function(t){if(t=t.data,ae.a.hasStatusOk(t)){var a,n=t.data;a=ae.a.formatTree(n),e.setState({lists2:a})}else ae.a.dealFail(t);e.setState({loading:!1})})).catch((function(){e.setState({loading:!1})}))}},{key:"render",value:function(){var e=this,t=this.props.areaResouse,a=t.houseList,n=t.vareaList,o=this.props.ipresourceDict.bandwidthType,s=ne.e.ip_res_status,c=ne.e.special_status,u=(ne.e.boolean,this.state),p=u.lists,f=(u.lists2,u.iparr),y=u.loading,g=u.page,b=u.pageSize,v=u.total,E=u.nowipId,S=u.modalShow,w=u.AddblackmodalShow,k=u.RemoveblackmodalShow,O=u.RetainmodalShow,C=u.cancelRetainShow,R=u.nowData,I=u.selectedRowKeys;return K.a.createElement("main",{className:"mian"},K.a.createElement("div",{className:"g-search"},K.a.createElement(h.a,{ref:this.searchFormRef,name:"searchbox",layout:"inline",onFinish:function(t){e.onSearchfrom(t)}},K.a.createElement(h.a.Item,{name:"houseId"},K.a.createElement(F.a,{allowClear:!0,placeholder:"请选择机房",showSearch:!0,filterOption:ae.a.filterOption,style:{width:200}},a.map((function(e){return K.a.createElement(wt,{value:e.id,key:e.id},e.fullName)})))),K.a.createElement(h.a.Item,{name:"regionId"},K.a.createElement(F.a,{allowClear:!0,placeholder:"请选择区域",showSearch:!0,filterOption:ae.a.filterOption,style:{width:300}},n.map((function(e){return K.a.createElement(wt,{value:e.fullLocationId,key:e.fullLocationId},e.fullLocationName)})))),K.a.createElement(h.a.Item,{name:"businessType"},K.a.createElement(m.a,{options:this.props.CategoryProduct.categoryTreeList,placeholder:"请选择所属业务",fieldNames:{label:"name",value:"id",children:"children"},style:{width:300},onChange:this.onCategoryChange})),K.a.createElement(h.a.Item,{name:"bandwidthtype"},K.a.createElement(F.a,{placeholder:"请选择带宽类型",allowClear:!0,style:{width:170}},_.map(o,(function(e,t){return K.a.createElement(wt,{value:t,key:t},e)})))),K.a.createElement(h.a.Item,{name:"ipAddr"},K.a.createElement(d.a,{placeholder:"请输入ip名称",maxLength:"30",allowClear:!0})),K.a.createElement(h.a.Item,{name:"ipSegment"},K.a.createElement(d.a,{placeholder:"请输入ip段信息",maxLength:"30",allowClear:!0})),K.a.createElement(h.a.Item,{name:"resStatus"},K.a.createElement(F.a,{placeholder:"资源状态",allowClear:!0,style:{width:170}},_.map(s,(function(e,t){return K.a.createElement(wt,{value:parseInt(t),key:t},e.text)})))),K.a.createElement(h.a.Item,{name:"specialStatus"},K.a.createElement(F.a,{placeholder:"特殊状态",allowClear:!0,style:{width:170}},_.map(c,(function(e,t){return K.a.createElement(wt,{value:parseInt(t),key:t},e)})))),K.a.createElement(h.a.Item,{shouldUpdate:!0},K.a.createElement(l.a,{type:"primary",htmlType:"submit"},"查询")),K.a.createElement(h.a.Item,{shouldUpdate:!0},K.a.createElement(l.a,{type:"primary",onClick:this.onResetSearch},"重置")))),K.a.createElement("div",{className:"g-operate"},bt.a.hasPermission("ipAddr-del")&&K.a.createElement(l.a,{size:"middle",className:"actions-btn",onClick:this.showDeleteConfirm},"批量出库"),bt.a.hasPermission("ipAddr-addBlack")&&K.a.createElement(l.a,{size:"middle",className:"actions-btn",onClick:this.showAddConfirm},"加入黑名单"),bt.a.hasPermission("ipAddr-cancelBlack")&&K.a.createElement(l.a,{size:"middle",className:"actions-btn",onClick:this.showRemoveConfirm},"取消黑名单"),bt.a.hasPermission("ipAddr-keep")&&K.a.createElement(l.a,{size:"middle",className:"actions-btn",onClick:this.showRetainfirm},"预留"),bt.a.hasPermission("ipAddr-keep")&&K.a.createElement(l.a,{size:"middle",className:"actions-btn",onClick:this.cancelRetainfirm},"取消预留")),K.a.createElement("div",{className:"g-table"},K.a.createElement(i.a,{scroll:{x:1600},columns:this.makeColumns(),rowKey:function(e){return e.id},loading:y,dataSource:p,pagination:!1,rowSelection:{type:"checkbox",selectedRowKeys:I,onChange:function(t,a){e.onSelectedRow(t,a)}}}),K.a.createElement("div",{className:"g-pagination"},K.a.createElement(r.a,{current:g,total:v,pageSize:b,showSizeChanger:!0,showQuickJumper:!0,showTotal:function(e){return"共 ".concat(e," 条")},onChange:function(t,a){e.onPageChange(t,a)},onShowSizeChange:function(t,a){e.onPageSizeChange(t,a)}}))),K.a.createElement(A.a,{title:"ip详情编辑",maskClosable:!1,width:"80%",destroyOnClose:!0,footer:null,onCancel:this.onModalClose,visible:S},K.a.createElement(Ce,{that:this,onOk:this.onModalOk,onClose:this.onModalClose,defaultData:R,id:E})),K.a.createElement(A.a,{title:"加入黑名单",maskClosable:!1,width:"50%",destroyOnClose:!0,footer:null,onCancel:this.onModalClose,visible:w},K.a.createElement(Qe,{that:this,onSubmit:this.onAddBlack,onClose:this.onModalClose,defaultData:R,ipId:this.state.ipId,iparr:f})),K.a.createElement(A.a,{title:"取消黑名单",maskClosable:!1,width:"50%",destroyOnClose:!0,footer:null,onCancel:this.onModalClose,visible:k},K.a.createElement(nt,{that:this,onSubmit:this.onRemoveBlack,onClose:this.onModalClose,defaultData:R,ipId:this.state.ipId,iparr:f})),K.a.createElement(A.a,{title:"预留",maskClosable:!1,width:"50%",destroyOnClose:!0,footer:null,onCancel:this.onModalClose,visible:O},K.a.createElement(dt,{that:this,onSubmit:this.onRetainIp,onClose:this.onModalClose,defaultData:R,ipId:this.state.ipId,iparr:f})),K.a.createElement(A.a,{title:"取消预留",maskClosable:!1,width:"50%",destroyOnClose:!0,footer:null,onCancel:this.onModalClose,visible:C},K.a.createElement(gt,{that:this,onSubmit:this.onCancelRetainIp,onClose:this.onModalClose,defaultData:R,ipId:this.state.ipId,iparr:f})))}}]),n}(K.a.Component),N()(ht,"propTypes",{location:V.a.any,history:V.a.any,root:V.a.any,areaResouse:V.a.any,ipresourceDict:V.a.any,CategoryProduct:V.a.any,powers:V.a.array,onClose:V.a.func,onOK:V.a.func,deviceId:V.a.string,defaultData:V.a.any,id:V.a.any}),pt=ft))||pt)||pt)||pt)||pt)||pt},1596:function(e,t,a){"use strict";var n=a(0),r={name:"eye",theme:"outlined",icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]}},o=a(69),i=function(e,t){return n.createElement(o.a,Object.assign({},e,{ref:t,icon:r}))};i.displayName="EyeOutlined";t.a=n.forwardRef(i)},1801:function(e,t,a){}}]);